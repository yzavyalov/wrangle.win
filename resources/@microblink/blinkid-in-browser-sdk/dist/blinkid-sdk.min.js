/*! ****************************************************************************
Copyright (c) Microblink. All rights reserved.

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.
***************************************************************************** */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).BlinkIDSDK={})}(this,(function(e){"use strict";let t=0;class r{constructor(e){this.action=e,this.messageID=function(){const e=t;return t+=1,e}()}}class i extends r{constructor(e,t){super(i.action),this.wasmModuleName=e.wasmModuleName,this.licenseKey=e.licenseKey,this.userId=t,this.registerLoadCallback=null!==e.loadProgressCallback,this.allowHelloMessage=e.allowHelloMessage,this.engineLocation=e.engineLocation,this.wasmType=e.wasmType,this.initialMemory=e.initialMemory,this.blinkIDVariant=e.blinkIdVariant,this.numberOfWorkers=e.numberOfWorkers}}var s,a,n;i.action="init",function(e){e[e.Any=0]="Any",e[e.Recognizer=1]="Recognizer",e[e.RecognizerSettings=2]="RecognizerSettings",e[e.Callback=3]="Callback"}(s||(s={}));class o extends r{constructor(e,t){super(o.action),this.className=e,this.params=t}}o.action="createNewNativeObject";class A extends r{constructor(e,t,r){super(A.action),this.recognizerHandles=e,this.allowMultipleResults=t,this.registeredMetadataCallbacks=r}}A.action="createRecognizerRunner";class E extends r{constructor(e,t){super(E.action),this.recognizerHandles=e,this.allowMultipleResults=t}}E.action="reconfigureRecognizerRunner";class R extends r{constructor(){super(R.action)}}R.action="deleteRecognizerRunner";class I extends r{constructor(e,t,r){super(I.action),this.objectHandle=e,this.methodName=t,this.params=r}}I.action="invokeObject";class N extends r{constructor(e){super(N.action),this.frame=e}getTransferrables(){return[this.frame.imageData.data.buffer]}}N.action="processImage";class c extends r{constructor(e){super(c.action),this.hardReset=e}}c.action="resetRecognizers";class _{constructor(){this.onDebugText=!1,this.onDetectionFailed=!1,this.onQuadDetection=!1,this.onPointsDetection=!1,this.onFirstSideResult=!1}}class l extends r{constructor(e){super(l.action),this.registeredMetadataCallbacks=e}}l.action="registerMetadataCallbacks";class d extends r{constructor(e){super(d.action),this.detectionOnlyMode=e}}d.action="setDetectionOnly";class S extends r{constructor(e){super(S.action),this.cameraPreviewMirrored=e}}S.action="setCameraPreviewMirrored";class O extends r{constructor(e){super(O.action),this.userId=e}}O.action="getProductIntegrationInfo";class D extends r{constructor(e){super(D.action),this.pingProxyUrl=e}}D.action="setPingProxyUrl";class C extends r{constructor(e){super(C.action),this.data=e}}C.action="setPingData",function(e){e[e.onDebugText=0]="onDebugText",e[e.onDetectionFailed=1]="onDetectionFailed",e[e.onQuadDetection=2]="onQuadDetection",e[e.onPointsDetection=3]="onPointsDetection",e[e.onFirstSideResult=4]="onFirstSideResult",e[e.recognizerCallback=5]="recognizerCallback"}(a||(a={})),(n=e.WasmType||(e.WasmType={})).Basic="BASIC",n.Advanced="ADVANCED",n.AdvancedWithThreads="ADVANCED_WITH_THREADS";class u extends Error{constructor(e,t){if(super(),!e.code||!e.message)throw Error("Instance of SDKError is required to have code and message.");if(this.message=e.message,this.code=e.code,e instanceof T&&e.details&&"message"in e.details){const t=Error(e.details.message);"stack"in e.details&&(t.stack=e.details.stack),this.details=t}else this.details=t}}class T{constructor(e,t){if(!e.code||!e.message)throw Error("Instance of SDKError is required to have code and message.");this.message=e.message,this.code=e.code,this.details=t instanceof Error?new m(t):t}}class m{constructor(e){this.message=e.message,this.name=e.name,this.stack=e.stack}}var g,L;(g=e.ErrorCodes||(e.ErrorCodes={})).WORKER_WASM_LOAD_FAILURE="WORKER_WASM_LOAD_FAILURE",g.WORKER_WASM_INIT_MISSING="WORKER_WASM_INIT_MISSING",g.WORKER_FUNCTION_INVOKE_FAILURE="WORKER_FUNCTION_INVOKE_FAILURE",g.WORKER_RECOGNIZER_CREATION_FAILURE="WORKER_RECOGNIZER_CREATION_FAILURE",g.WORKER_RUNNER_EXISTS="WORKER_RUNNER_EXISTS",g.WORKER_RUNNER_CREATION_FAILURE="WORKER_RUNNER_CREATION_FAILURE",g.WORKER_RUNNER_MISSING="WORKER_RUNNER_MISSING",g.WORKER_RUNNER_RECONFIGURE_FAILURE="WORKER_RUNNER_RECONFIGURE_FAILURE",g.WORKER_RUNNER_DELETED="WORKER_RUNNER_DELETED",g.WORKER_RUNNER_DELETE_FAILURE="WORKER_RUNNER_DELETE_FAILURE",g.WORKER_OBJECT_INVOKE_FAILURE="WORKER_OBJECT_INVOKE_FAILURE",g.WORKER_IMAGE_PROCESS_FAILURE="WORKER_IMAGE_PROCESS_FAILURE",g.WORKER_HANDLE_UNDEFINED="WORKER_HANDLE_UNDEFINED",g.WORKER_MESSAGE_ACTION_UNKNOWN="WORKER_MESSAGE_ACTION_UNKNOWN",g.WORKER_LICENSE_UNLOCK_ERROR="WORKER_LICENSE_UNLOCK_ERROR",g.WORKER_INTEGRATION_INFO_FAILURE="WORKER_INTEGRATION_INFO_FAILURE",g.LOCAL_SDK_RUNNER_MISSING="LOCAL_SDK_RUNNER_MISSING",g.LOCAL_SDK_RUNNER_EMPTY="LOCAL_SDK_RUNNER_EMPTY",g.LICENSE_UNLOCK_ERROR="LICENSE_UNLOCK_ERROR",g.FRAME_CAPTURE_SVG_UNSUPPORTED="FRAME_CAPTURE_SVG_UNSUPPORTED",g.FRAME_CAPTURE_CANVAS_MISSING="FRAME_CAPTURE_CANVAS_MISSING",g.SDK_WASM_SETTINGS_MISSING="SDK_WASM_SETTINGS_MISSING",g.SDK_LICENSE_KEY_MISSING="SDK_LICENSE_KEY_MISSING",g.SDK_WASM_MODULE_NAME_MISSING="SDK_WASM_MODULE_NAME_MISSING",g.SDK_ENGINE_LOCATION_INVALID="SDK_ENGINE_LOCATION_INVALID",g.SDK_WORKER_LOCATION_INVALID="SDK_WORKER_LOCATION_INVALID",g.SDK_MISSING="SDK_MISSING",g.SDK_RECOGNIZERS_MISSING="SDK_RECOGNIZERS_MISSING",g.VIDEO_RECOGNIZER_ELEMENT_MISSING="VIDEO_RECOGNIZER_ELEMENT_MISSING",g.VIDEO_RECOGNIZER_CAMERA_MISSING="VIDEO_RECOGNIZER_CAMERA_MISSING",g.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED="VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED",g.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE="VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE",g.VIDEO_RECOGNIZER_CAMERA_IN_USE="VIDEO_RECOGNIZER_CAMERA_IN_USE",g.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED="VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED",g.VIDEO_RECOGNIZER_FEED_RELEASED="VIDEO_RECOGNIZER_FEED_RELEASED",g.VIDEO_RECOGNIZER_FEED_NOT_PAUSED="VIDEO_RECOGNIZER_FEED_NOT_PAUSED",g.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED="VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED",g.VIDEO_RECOGNIZER_FEED_PAUSED="VIDEO_RECOGNIZER_FEED_PAUSED",g.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE="VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE",g.VIDEO_RECOGNIZER_FEED_MISSING="VIDEO_RECOGNIZER_FEED_MISSING",g.INVALID_PING_PROXY_URL="INVALID_PROXY_URL",g.PING_PROXY_PERMISSION_NOT_GRANTED="PING_PROXY_PERMISSION_NOT_GRANTED",g.PING_DATA_KEYS_AMOUNT_EXCEEDED="PING_DATA_KEYS_AMOUNT_EXCEEDED",g.PING_DATA_KEY_LENGTH_EXCEEDED="PING_DATA_KEY_LENGTH_EXCEEDED",g.PING_DATA_VALUE_LENGTH_EXCEEDED="PING_DATA_VALUE_LENGTH_EXCEEDED",(L=e.ErrorMessages||(e.ErrorMessages={})).WORKER_HANDLE_UNDEFINED="Cannot find object with handle: undefined",L.WORKER_WASM_LOAD_FAILURE="Failed to load WASM in web worker!",L.WORKER_WASM_INIT_MISSING="WASM module is not initialized!",L.WORKER_FUNCTION_INVOKE_FAILURE="Failed to invoke function!",L.WORKER_RECOGNIZER_CREATION_FAILURE="Failed to create new recognizer!",L.WORKER_RUNNER_EXISTS="Recognizer runner is already created! Multiple instances are not allowed!",L.WORKER_RUNNER_CREATION_FAILURE="Failed to create new recognizer runner!",L.WORKER_RUNNER_MISSING="Recognizer runner is not created! There is nothing to reconfigure!",L.WORKER_RUNNER_RECONFIGURE_FAILURE="Failed to reconfigure recognizer runner!",L.WORKER_RUNNER_DELETED="Recognizer runner is already deleted!",L.WORKER_RUNNER_DELETE_FAILURE="Failed to delete recognizer runner!",L.WORKER_OBJECT_INVOKE_FAILURE="Failed to invoke object!",L.WORKER_IMAGE_PROCESS_FAILURE="Recognizer runner is not initialized! Cannot process image!",L.WORKER_INTEGRATION_INFO_FAILURE="Failed to get product integration info!",L.LOCAL_SDK_RUNNER_MISSING="Property nativeRecognizerRunner is not available!",L.LOCAL_SDK_RUNNER_EMPTY="Native RecognizerRunner cannot be empty!",L.LICENSE_TOKEN_STATE_INCORRECT="Internal error (Incorrect token state)",L.LICENSE_PAYLOAD_VERIFICATION_FAILED="Failed to verify server permission's digital signature!",L.LICENSE_PAYLOAD_CORRUPTED="Server permission payload is corrupted!",L.LICENSE_PERMISSION_EXPIRED="Internal error (server permission expired)",L.LICENSE_REMOTE_LOCKED="Provided license key has been remotely locked. Please contact support for more information!",L.FRAME_CAPTURE_SVG_UNSUPPORTED="Recognition of SVG elements not supported!",L.FRAME_CAPTURE_CANVAS_MISSING="Could not get canvas 2d context!",L.SDK_WASM_SETTINGS_MISSING="Missing WASM load settings!",L.SDK_LICENSE_KEY_MISSING="Missing license key!",L.SDK_WASM_MODULE_NAME_MISSING="Missing WASM module name!",L.SDK_ENGINE_LOCATION_INVALID="Setting property 'engineLocation' must be a string!",L.SDK_WORKER_LOCATION_INVALID="Setting property 'workerLocation' must be a string!",L.SDK_MISSING="SDK is not provided!",L.SDK_RECOGNIZERS_MISSING="To create RecognizerRunner at least 1 recognizer is required.",L.VIDEO_RECOGNIZER_ELEMENT_MISSING="Video element, i.e. camera feed is not provided!",L.VIDEO_RECOGNIZER_CAMERA_MISSING="Camera not found!",L.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED="Camera not allowed!",L.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE="Camera not available!",L.VIDEO_RECOGNIZER_CAMERA_IN_USE="Camera in use!",L.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED="Media devices not supported by browser.",L.VIDEO_RECOGNIZER_FEED_RELEASED="The associated video feed has been released!",L.VIDEO_RECOGNIZER_FEED_NOT_PAUSED="The associated video feed is not paused. Use resumeRecognition instead!",L.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED="The play() request was interrupted or prevented by browser security rules!",L.VIDEO_RECOGNIZER_FEED_PAUSED="Cannot resume recognition while video feed is paused! Use recognize or startRecognition",L.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE="Could not reset recognizers!",L.VIDEO_RECOGNIZER_FEED_MISSING="Missing video feed!",L.INVALID_PING_PROXY_URL="Provided ping proxy URL is not a valid secure URL in format 'https://{host}:{port?}'.",L.PING_PROXY_PERMISSION_NOT_GRANTED="Allow ping proxy permission not found in license.",L.PING_DATA_KEYS_AMOUNT_EXCEEDED="Maximum number of ping data keys exceeded.",L.PING_DATA_KEY_LENGTH_EXCEEDED="Ping data key is too long.",L.PING_DATA_VALUE_LENGTH_EXCEEDED="Ping data value is too long.";const M={feedMissing:{message:e.ErrorMessages.VIDEO_RECOGNIZER_FEED_MISSING,code:e.ErrorCodes.VIDEO_RECOGNIZER_FEED_MISSING},recognizersResetFailure:{message:e.ErrorMessages.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE,code:e.ErrorCodes.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE},feedPaused:{message:e.ErrorMessages.VIDEO_RECOGNIZER_FEED_PAUSED,code:e.ErrorCodes.VIDEO_RECOGNIZER_FEED_PAUSED},playRequestInterrupted:{message:e.ErrorMessages.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED,code:e.ErrorCodes.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED},videoFeedNotPaused:{message:e.ErrorMessages.VIDEO_RECOGNIZER_FEED_NOT_PAUSED,code:e.ErrorCodes.VIDEO_RECOGNIZER_FEED_NOT_PAUSED},videoFeedReleased:{message:e.ErrorMessages.VIDEO_RECOGNIZER_FEED_RELEASED,code:e.ErrorCodes.VIDEO_RECOGNIZER_FEED_RELEASED},mediaDevicesUnsupported:{code:e.ErrorCodes.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED,message:e.ErrorMessages.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED},cameraMissing:{code:e.ErrorCodes.VIDEO_RECOGNIZER_CAMERA_MISSING,message:e.ErrorMessages.VIDEO_RECOGNIZER_CAMERA_MISSING},cameraNotAllowed:{code:e.ErrorCodes.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED,message:e.ErrorMessages.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED},elementMissing:{message:e.ErrorMessages.VIDEO_RECOGNIZER_ELEMENT_MISSING,code:e.ErrorCodes.VIDEO_RECOGNIZER_ELEMENT_MISSING}},U={wasmSettingsMissing:{message:e.ErrorMessages.SDK_WASM_SETTINGS_MISSING,code:e.ErrorCodes.SDK_WASM_SETTINGS_MISSING},licenseKeyMissing:{message:e.ErrorMessages.SDK_LICENSE_KEY_MISSING,code:e.ErrorCodes.SDK_LICENSE_KEY_MISSING},wasmModuleNameMissing:{message:e.ErrorMessages.SDK_WASM_MODULE_NAME_MISSING,code:e.ErrorCodes.SDK_WASM_MODULE_NAME_MISSING},engineLocationInvalid:{message:e.ErrorMessages.SDK_ENGINE_LOCATION_INVALID,code:e.ErrorCodes.SDK_ENGINE_LOCATION_INVALID},workerLocationInvalid:{message:e.ErrorMessages.SDK_WORKER_LOCATION_INVALID,code:e.ErrorCodes.SDK_WORKER_LOCATION_INVALID},missing:{message:e.ErrorMessages.SDK_MISSING,code:e.ErrorCodes.SDK_MISSING},recognizersMissing:{message:e.ErrorMessages.SDK_RECOGNIZERS_MISSING,code:e.ErrorCodes.SDK_RECOGNIZERS_MISSING}},h={svgUnsupported:{message:e.ErrorMessages.FRAME_CAPTURE_SVG_UNSUPPORTED,code:e.ErrorCodes.FRAME_CAPTURE_SVG_UNSUPPORTED},canvasMissing:{message:e.ErrorMessages.FRAME_CAPTURE_CANVAS_MISSING,code:e.ErrorCodes.FRAME_CAPTURE_CANVAS_MISSING}},P={licenseTokenStateIncorrect:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_TOKEN_STATE_INCORRECT},licensePayloadVerificationFailed:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_PAYLOAD_VERIFICATION_FAILED},licensePayloadCorrupted:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_PAYLOAD_CORRUPTED},licensePermissionExpired:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_PERMISSION_EXPIRED},licenseRemoteLocked:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR,message:e.ErrorMessages.LICENSE_REMOTE_LOCKED},licenseNetworkError:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR},licenseInvalid:{code:e.ErrorCodes.LICENSE_UNLOCK_ERROR}},p={runnerMissing:{message:e.ErrorMessages.LOCAL_SDK_RUNNER_MISSING,code:e.ErrorCodes.LOCAL_SDK_RUNNER_MISSING},runnerEmpty:{message:e.ErrorMessages.LOCAL_SDK_RUNNER_EMPTY,code:e.ErrorCodes.LOCAL_SDK_RUNNER_EMPTY}},G={imageProcessFailure:{message:e.ErrorMessages.WORKER_IMAGE_PROCESS_FAILURE,code:e.ErrorCodes.WORKER_IMAGE_PROCESS_FAILURE},objectInvokeFailure:{message:e.ErrorMessages.WORKER_OBJECT_INVOKE_FAILURE,code:e.ErrorCodes.WORKER_OBJECT_INVOKE_FAILURE},runnerDeleteFailure:{message:e.ErrorMessages.WORKER_RUNNER_DELETE_FAILURE,code:e.ErrorCodes.WORKER_RUNNER_DELETE_FAILURE},runnerDeleted:{message:e.ErrorMessages.WORKER_RUNNER_DELETED,code:e.ErrorCodes.WORKER_RUNNER_DELETED},runnerReconfigureFailure:{message:e.ErrorMessages.WORKER_RUNNER_RECONFIGURE_FAILURE,code:e.ErrorCodes.WORKER_RUNNER_RECONFIGURE_FAILURE},runnerMissing:{message:e.ErrorMessages.WORKER_RUNNER_MISSING,code:e.ErrorCodes.WORKER_RUNNER_MISSING},runnerCreationFailure:{message:e.ErrorMessages.WORKER_RUNNER_CREATION_FAILURE,code:e.ErrorCodes.WORKER_RUNNER_CREATION_FAILURE},runnerExists:{message:e.ErrorMessages.WORKER_RUNNER_EXISTS,code:e.ErrorCodes.WORKER_RUNNER_EXISTS},recognizerCreationFailure:{message:e.ErrorMessages.WORKER_RECOGNIZER_CREATION_FAILURE,code:e.ErrorCodes.WORKER_RECOGNIZER_CREATION_FAILURE},functionInvokeFailure:{message:e.ErrorMessages.WORKER_FUNCTION_INVOKE_FAILURE,code:e.ErrorCodes.WORKER_FUNCTION_INVOKE_FAILURE},wasmInitMissing:{message:e.ErrorMessages.WORKER_WASM_INIT_MISSING,code:e.ErrorCodes.WORKER_WASM_INIT_MISSING},wasmLoadFailure:{message:e.ErrorMessages.WORKER_WASM_LOAD_FAILURE,code:e.ErrorCodes.WORKER_WASM_LOAD_FAILURE},handleUndefined:{message:e.ErrorMessages.WORKER_HANDLE_UNDEFINED,code:e.ErrorCodes.WORKER_HANDLE_UNDEFINED},integrationInfoFailure:{message:e.ErrorMessages.WORKER_INTEGRATION_INFO_FAILURE,code:e.ErrorCodes.WORKER_INTEGRATION_INFO_FAILURE}},F={invalidProxyUrl:{message:e.ErrorMessages.INVALID_PING_PROXY_URL,code:e.ErrorCodes.INVALID_PING_PROXY_URL},permissionNotGranted:{message:e.ErrorMessages.PING_PROXY_PERMISSION_NOT_GRANTED,code:e.ErrorCodes.PING_PROXY_PERMISSION_NOT_GRANTED},dataKeysAmountExceeded:{message:e.ErrorMessages.PING_DATA_KEYS_AMOUNT_EXCEEDED,code:e.ErrorCodes.PING_DATA_KEYS_AMOUNT_EXCEEDED},dataKeyLengthExceeded:{message:e.ErrorMessages.PING_DATA_KEY_LENGTH_EXCEEDED,code:e.ErrorCodes.PING_DATA_KEY_LENGTH_EXCEEDED},dataValueLengthExceeded:{message:e.ErrorMessages.PING_DATA_VALUE_LENGTH_EXCEEDED,code:e.ErrorCodes.PING_DATA_VALUE_LENGTH_EXCEEDED}};function f(e,t){return r=>{const i=r;i.success?e():t("string"==typeof i.error||null===i.error?i.error:new u(i.error))}}function y(e,t){return r=>{const i=r;i.success?e(r):t("string"==typeof i.error||null===i.error?i.error:new u(i.error))}}class K{constructor(e,t,r){this.wasmSDKWorker=e,this.objectHandle=r,this.recognizerName=t,this.callbacks=new Map}getRemoteObjectHandle(){return this.objectHandle}currentSettings(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t("Invalid object handle: "+this.objectHandle);const r=new I(this.objectHandle,"currentSettings",[]),i=y((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(r,i)}))}toSignedJSON(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t("Invalid object handle: "+this.objectHandle);const r=new I(this.objectHandle,"toSignedJSON",[]),i=y((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(r,i)}))}clearAllCallbacks(){this.callbacks.clear(),this.wasmSDKWorker.unregisterRecognizerCallbacks(this.objectHandle)}removeFunctions(e){this.clearAllCallbacks();const t=Object.keys(e);let r=!1;for(const i of t){const t=e[i];if("function"==typeof t){this.callbacks.set(i,t);e[i]={parameter:{recognizerHandle:this.objectHandle,callbackName:i},type:s.Callback},r=!0}}return r&&this.wasmSDKWorker.registerRecognizerCallbacks(this.objectHandle,this),e}updateSettings(e){return new Promise(((t,r)=>{if(0>this.objectHandle)return void r("Invalid object handle: "+this.objectHandle);const i=new I(this.objectHandle,"updateSettings",[{parameter:this.removeFunctions(e),type:s.RecognizerSettings}]),a=f(t,r);this.wasmSDKWorker.postMessage(i,a)}))}invokeCallback(e,t){const r=this.callbacks.get(e);void 0!==r?r(...t):console.warn("Cannot find callback",e)}getResult(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t("Invalid object handle: "+this.objectHandle);const r=new I(this.objectHandle,"getResult",[]),i=y((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(r,i)}))}delete(){return new Promise(((e,t)=>{if(0>this.objectHandle)return void t("Invalid object handle: "+this.objectHandle);this.clearAllCallbacks();const r=new I(this.objectHandle,"delete",[]),i=f((()=>{this.objectHandle=-1,e()}),t);this.wasmSDKWorker.postMessage(r,i)}))}}function b(e){const t=new _;return t.onDebugText=!!e.onDebugText,t.onDetectionFailed=!!e.onDetectionFailed,t.onPointsDetection=!!e.onPointsDetection,t.onQuadDetection=!!e.onQuadDetection,t.onFirstSideResult=!!e.onFirstSideResult,t}class w{constructor(e,t){this.deleted=!1,this.wasmSDKWorker=e,this.recognizers=t}processImage(e){return new Promise(((t,r)=>{if(this.deleted)return void r("Recognizer runner is deleted. It cannot be used anymore!");const i=new N(e),s=y((e=>{t(e.recognitionState)}),r);this.wasmSDKWorker.postTransferrableMessage(i,s)}))}reconfigureRecognizers(e,t){return new Promise(((r,i)=>{if(this.deleted)return void i("Recognizer runner is deleted. It cannot be used anymore!");const s=W(e),a=new E(s,t),n=f(r,i);this.wasmSDKWorker.postMessage(a,n),this.recognizers=e}))}setMetadataCallbacks(e){return new Promise(((t,r)=>{const i=new l(b(e)),s=f(t,r);this.wasmSDKWorker.postMessageAndRegisterCallbacks(i,e,s)}))}resetRecognizers(e){return new Promise(((t,r)=>{const i=new c(e),s=f(t,r);this.wasmSDKWorker.postMessage(i,s)}))}setDetectionOnlyMode(e){return new Promise(((t,r)=>{const i=new d(e),s=f(t,r);this.wasmSDKWorker.postMessage(i,s)}))}setPingProxyUrl(e){if(!function(e){return/^https:\/\/[^\/]+(?::\d+)?\/?$/.test(e)}(e))throw new u(F.invalidProxyUrl);return new Promise(((t,r)=>{const i=new D(e),s=f(t,r);this.wasmSDKWorker.postMessage(i,s)}))}setPingData(e){return new Promise(((t,r)=>{const i=new C(e),s=f(t,r);this.wasmSDKWorker.postMessage(i,s)}))}setCameraPreviewMirrored(e){return new Promise(((t,r)=>{const i=new S(e),s=f(t,r);this.wasmSDKWorker.postMessage(i,s)}))}delete(){return this.deleted?Promise.reject("Recognizer runner is already deleted."):new Promise(((e,t)=>{const r=new R,i=f((()=>{this.deleted=!0,e()}),t);this.wasmSDKWorker.postMessage(r,i)}))}}function W(e){const t=[];for(const r of e)t.push(r.getRemoteObjectHandle());return t}class k{constructor(e){this.wasmSDKWorker=e}createRecognizerRunner(e,t=!1,r={}){return new Promise(((i,s)=>{const a=W(e),n=new A(a,t,b(r)),o=f((()=>{i(new w(this.wasmSDKWorker,e))}),s);this.wasmSDKWorker.postMessageAndRegisterCallbacks(n,r,o)}))}newRecognizer(e,...t){return new Promise(((r,i)=>{const a=new o(e,function(e){const t=[];for(let r of e){let e=s.Any;r instanceof K&&(e=s.Recognizer,r=r.getRemoteObjectHandle()),t.push({parameter:r,type:e})}return t}(t)),n=y((t=>{const i=new K(this.wasmSDKWorker,e,t.objectHandle);r(i)}),i);this.wasmSDKWorker.postMessage(a,n)}))}}class V{constructor(t,r,i,s){this.eventHandlers={},this.metadataCallbacks={},this.loadedWasmType=e.WasmType.Basic,this.mbWasmWorker=t,this.mbWasmWorker.onmessage=e=>{this.handleWorkerEvent(e)},this.mbWasmWorker.onerror=()=>{s("Problem during initialization of worker file!")},this.mbWasmModule=new k(this),this.loadCallback=r,this.recognizersWithCallbacks=new Map,this.userId=i,this.showOverlay=!1}postMessage(e,t){this.eventHandlers[e.messageID]=t,this.mbWasmWorker.postMessage(e)}postTransferrableMessage(e,t){this.eventHandlers[e.messageID]=t,this.mbWasmWorker.postMessage(e,e.getTransferrables())}postMessageAndRegisterCallbacks(e,t,r){this.eventHandlers[e.messageID]=r,this.metadataCallbacks=t,this.mbWasmWorker.postMessage(e)}registerRecognizerCallbacks(e,t){this.recognizersWithCallbacks.set(e,t)}unregisterRecognizerCallbacks(e){this.recognizersWithCallbacks.delete(e)}delete(){this.mbWasmWorker.terminate()}getProductIntegrationInfo(){return new Promise(((e,t)=>{const r=new O(this.userId),i=y((t=>{e(t.result)}),t);this.postMessage(r,i)}))}handleWorkerEvent(e){if("isCallbackMessage"in e.data){const t=e.data;switch(t.callbackType){case a.onDebugText:"function"==typeof this.metadataCallbacks.onDebugText&&this.metadataCallbacks.onDebugText(t.callbackParameters[0]);break;case a.onDetectionFailed:"function"==typeof this.metadataCallbacks.onDetectionFailed&&this.metadataCallbacks.onDetectionFailed();break;case a.onPointsDetection:"function"==typeof this.metadataCallbacks.onPointsDetection&&this.metadataCallbacks.onPointsDetection(t.callbackParameters[0]);break;case a.onQuadDetection:"function"==typeof this.metadataCallbacks.onQuadDetection&&this.metadataCallbacks.onQuadDetection(t.callbackParameters[0]);break;case a.onFirstSideResult:"function"==typeof this.metadataCallbacks.onFirstSideResult&&this.metadataCallbacks.onFirstSideResult();break;case a.recognizerCallback:{const e=t.callbackParameters.shift(),r=this.recognizersWithCallbacks.get(e.recognizerHandle);void 0!==r?r.invokeCallback(e.callbackName,t.callbackParameters):console.warn("Cannot find recognizer to deliver callback message. Maybe it's destroyed?",e);break}default:throw Error("Unknown callback type: "+a[t.callbackType])}}else if("isLoadProgressMessage"in e.data){"function"==typeof this.loadCallback&&this.loadCallback(e.data.progress)}else{const t=e.data,r=this.eventHandlers[t.messageID];delete this.eventHandlers[t.messageID],r(t)}}static async createWasmWorker(e,t,r){return new Promise(((s,a)=>{const n=new V(e,t.loadProgressCallback,r,a),o=new i(t,r),A=y((e=>{const t=e;n.showOverlay=t.showOverlay,n.loadedWasmType=t.wasmType,s(n)}),(e=>{n&&"function"==typeof n.delete&&n.delete(),a(e)}));n.postMessage(o,A)}))}}var H;(H=e.PreferredCameraType||(e.PreferredCameraType={}))[H.BackFacingCamera=0]="BackFacingCamera",H[H.FrontFacingCamera=1]="FrontFacingCamera";const v=["rear","back","rück","arrière","trasera","trás","traseira","posteriore","posterior","后面","後面","背面","后置","後置","背置","задней","الخلفية","후","arka","achterzijde","หลัง","baksidan","bagside","sau","bak","tylny","takakamera","belakang","אחורית","πίσω","spate","hátsó","zadní","darrere","zadná","задня","stražnja","belakang","बैक"],B=["Cameră dublă cu obiectiv superangular spate","מצלמה כפולה רחבה אחורית","Артқы қос кең бұрышты камера","Câmara grande angular dupla traseira","Πίσω διπλή ευρεία κάμερα","後置雙廣角鏡頭相機","Задна двойна широкоъгълна камера","Càmera dual posterior amb gran angular","Zadná duálna širokouhlá kamera","كاميرا خلفية مزدوجة عريضة","Задняя двойная широкоугольная камера","Задня здвоєна ширококутна камера","Cámara amplia posterior doble","Dwikamera Lebar Belakang","Tylny dwuobiektywowy aparat szerokokątny","Dubbel vidvinkelkamera på baksidan","Back Dual Wide Camera","Hátsó, kettős, széles látószögű kamera","후면 듀얼 와이드 카메라","Double caméra grand angle arrière","Fotocamera doppia con grandangolo (posteriore)","Double appareil photo grand angle arrière","Zadní duální širokoúhlý fotoaparát","Çift Geniş Kamera Arka Yüzü","Laajakulmainen kaksoistakakamera","Rückseitige Dual-Weitwinkelkamera","बैक ड्युअल वाइड कैमरा","后置双广角镜头","Câmera Dupla Grande-Angular Traseira","後置雙廣角相機","กล้องคู่ด้านหลังมุมกว้าง","Kamera Lebar Belakang Ganda","Dobbelt vidvinkelkamera bak","Camera kép rộng mặt sau","Cámara trasera dual con gran angular","背面デュアル広角カメラ","Stražnja dvostruka široka kamera"],Y=["후면 카메라","後置相機","Задна камера","後置鏡頭","Camera mặt sau","Hátoldali kamera","Cámara trasera","Back Camera","Kamera på baksidan","Πίσω κάμερα","Bagsidekamera","Zadná kamera","Fotocamera (posteriore)","Câmara traseira","מצלמה אחורית","Takakamera","Rückkamera","Caméra arrière","Zadní fotoaparát","Артқы камера","Tylny aparat","बैक कैमरा","Hátsó kamera","Camera aan achterzijde","Kamera Belakang","Câmera Traseira","Stražnja kamera","الكاميرا الخلفية","Càmera posterior","Fotocamera posteriore","Càmera del darrere","กล้องด้านหลัง","Cameră spate","Kamera, bagside","背面カメラ","Задня камера","Arka Kamera","后置相机","Камера на задней панели","后置镜头","Kamera bak","Задняя камера","Aparat tylny","Kamera på baksiden","Câmera de Trás"],z=()=>!!navigator.userAgent.match(/Android/i),Z=()=>!!navigator.userAgent.match(/iPhone/i);function x(e){const t=e.toLowerCase();return v.some((e=>t.includes(e)))}class J{constructor(e,t,r){this.deviceId=e.deviceId,this.facing=t,this.groupId=e.groupId,this.label=r||e.label}}async function j(){const t=[],r=[];let i=await navigator.mediaDevices.enumerateDevices();if(i.filter((e=>"videoinput"===e.kind)).every((e=>""===e.label))){const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}},audio:!1});i=await navigator.mediaDevices.enumerateDevices(),e.getTracks().forEach((e=>e.stop()))}const s=i.filter((e=>"videoinput"===e.kind));let a=0,n=0;for(const i of s)if(x(i.label)){let t;a++,z()&&(t="Back camera "+a),r.push(new J(i,e.PreferredCameraType.BackFacingCamera,t))}else{let r;n++,z()&&(r="Front camera "+n),t.push(new J(i,e.PreferredCameraType.FrontFacingCamera,r))}return{frontCameras:t,backCameras:r}}async function X(t,r){const{frontCameras:i,backCameras:s}=await j();if(!i.length&&!s.length)return null;if(t){let e;return e=i.find((e=>e.deviceId===t)),e||(e=s.find((e=>e.deviceId===t))),e||null}let a=null;if(Z()&&r===e.PreferredCameraType.BackFacingCamera){let e=s.find((e=>B.includes(e.label)));e||(e=s.find((e=>Y.includes(e.label)))),e&&(a=e)}else if(z()&&r===e.PreferredCameraType.BackFacingCamera){let e={deviceId:"",score:-1};const t=(e,t)=>{let r=0;return e&&r++,t&&r++,r};for(const r of s){const i=await navigator.mediaDevices.getUserMedia({video:{deviceId:r.deviceId,width:1920,height:1080}});if("getCapabilities"in i.getVideoTracks()[0]){const s=i.getVideoTracks()[0].getCapabilities(),a=!!s.torch,n=s.focusMode?.includes("single-shot"),o=t(a,n);o>e.score&&(e={deviceId:r.deviceId,score:o})}Q(i)}a=s.find((t=>t.deviceId===e.deviceId))||null}if(null===a){let t=s.length>0?s:i;r===e.PreferredCameraType.BackFacingCamera&&s.length>0&&(t=s),r===e.PreferredCameraType.FrontFacingCamera&&i.length>0&&(t=i),t=t.sort(((e,t)=>e.label.localeCompare(t.label)));let a=t.length-1;const n=t.map((e=>{const t=RegExp(/\b([0-9]+)MP?\b/,"i").exec(e.label);return null!==t?parseInt(t[1],10):NaN}));return n.some((e=>isNaN(e)))||(a=n.lastIndexOf(Math.max(...n))),t[a]}return a}const Q=e=>{const t=e.getTracks();for(const e of t)e.stop()};async function q(t,r,i=e.PreferredCameraType.BackFacingCamera){const s={audio:!1,video:{width:{min:640,ideal:1920,max:1920},height:{min:480,ideal:1080,max:1080}}};if(""===t.deviceId){s.video.facingMode={ideal:i===e.PreferredCameraType.BackFacingCamera?"environment":"user"}}else s.video.deviceId={exact:t.deviceId};const a=await navigator.mediaDevices.getUserMedia(s);r.controls=!1,r.srcObject=a;let n=!1;return t.facing===e.PreferredCameraType.FrontFacingCamera&&(n=!0),n}var $,ee,te;let re,ie;($=e.ImageOrientation||(e.ImageOrientation={}))[$.RotatedLeft90=0]="RotatedLeft90",$[$.NoRotation=1]="NoRotation",$[$.RotatedRight90=2]="RotatedRight90",$[$.Rotated180=3]="Rotated180",(ee=e.RecognizerResultState||(e.RecognizerResultState={}))[ee.Empty=0]="Empty",ee[ee.Uncertain=1]="Uncertain",ee[ee.Valid=2]="Valid",ee[ee.StageValid=3]="StageValid",(te=e.DocumentSide||(e.DocumentSide={}))[te.Front=0]="Front",te[te.Back=1]="Back";class se{constructor(e,t,r){this.imageData={data:e.data,width:e.width,height:e.height,colorSpace:e.colorSpace},this.orientation=t,this.videoFrame=r}}function ae(t){let r,i,s=!1;if(t instanceof HTMLVideoElement)r=t.videoWidth,i=t.videoHeight,s=!0;else if(t instanceof HTMLImageElement)r=t.naturalWidth,i=t.naturalHeight;else{if(t instanceof SVGImageElement)throw new u(h.svgUnsupported);t instanceof VideoFrame?(r=t.displayWidth,i=t.displayHeight):(r=t.width,i=t.height)}if(re=re||document.createElement("canvas"),re.width!==r&&re.height!==i&&(re.width=r,re.height=i),ie=ie||re.getContext("2d",{willReadFrequently:!0}),!ie)throw new u(h.canvasMissing);ie.drawImage(t,0,0,re.width,re.height);const a=ie.getImageData(0,0,re.width,re.height);return new se(a,e.ImageOrientation.NoRotation,s)}var ne,oe;(ne=e.LicenseTokenState||(e.LicenseTokenState={}))[ne.Invalid=0]="Invalid",ne[ne.RequiresServerPermission=1]="RequiresServerPermission",ne[ne.Valid=2]="Valid",(oe=e.LicenseErrorType||(e.LicenseErrorType={})).LicenseTokenStateInvalid="LICENSE_TOKEN_STATE_INVALID",oe.NetworkError="NETWORK_ERROR",oe.RemoteLock="REMOTE_LOCK",oe.PermissionExpired="PERMISSION_EXPIRED",oe.PayloadCorrupted="PAYLOAD_CORRUPTED",oe.PayloadSignatureVerificationFailed="PAYLOAD_SIGNATURE_VERIFICATION_FAILED",oe.IncorrectTokenState="INCORRECT_TOKEN_STATE";function Ae(e){return{licenseId:e.licenseId,licensee:e.licensee,applicationIds:e.applicationIds,packageName:e.packageName,platform:"Browser",sdkName:e.sdkName,sdkVersion:e.sdkVersion}}var Ee,Re;async function Ie(t,r){try{const i=await fetch("https://baltazar.microblink.com/api/v2/status/check",{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-cache",body:JSON.stringify(Ae(t))});if(i.ok){const e=""+await i.text();return r.submitServerPermission(e)}return{status:e.ServerPermissionSubmitResultStatus.NetworkError,lease:0,networkErrorDescription:"Server responded with status "+i.status}}catch(t){return{status:e.ServerPermissionSubmitResultStatus.NetworkError,lease:0,networkErrorDescription:"Unexpected error: "+JSON.stringify(t)}}}(Ee=e.ServerPermissionSubmitResultStatus||(e.ServerPermissionSubmitResultStatus={}))[Ee.Ok=0]="Ok",Ee[Ee.NetworkError=1]="NetworkError",Ee[Ee.RemoteLock=2]="RemoteLock",Ee[Ee.PermissionExpired=3]="PermissionExpired",Ee[Ee.PayloadCorrupted=4]="PayloadCorrupted",Ee[Ee.PayloadSignatureVerificationFailed=5]="PayloadSignatureVerificationFailed",Ee[Ee.IncorrectTokenState=6]="IncorrectTokenState",(Re=e.DetectionStatus||(e.DetectionStatus={}))[Re.Failed=0]="Failed",Re[Re.Success=1]="Success",Re[Re.CameraTooFar=2]="CameraTooFar",Re[Re.CameraTooClose=3]="CameraTooClose",Re[Re.CameraAngleTooSteep=4]="CameraAngleTooSteep",Re[Re.DocumentTooCloseToCameraEdge=5]="DocumentTooCloseToCameraEdge",Re[Re.DocumentPartiallyVisible=6]="DocumentPartiallyVisible",Re[Re.FallbackSuccess=7]="FallbackSuccess";class Ne extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}const ce=function({limit:e,interval:t,strict:r}){if(!Number.isFinite(e))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(t))throw new TypeError("Expected `interval` to be a finite number");const i=new Map;let s=0,a=0;const n=[],o=r?function(){const r=Date.now();if(e>n.length)return n.push(r),0;const i=n.shift()+t;return i>r?(n.push(i),i-r):(n.push(r),0)}:function(){const r=Date.now();return r-s>t?(a=1,s=r,0):(e>a?a++:(s+=t,a=1),s-r)};return e=>{const t=function(...r){if(!t.isEnabled)return(async()=>e.apply(this,r))();let s;return new Promise(((t,a)=>{s=setTimeout((()=>{t(e.apply(this,r)),i.delete(s)}),o()),i.set(s,a)}))};return t.abort=()=>{for(const e of i.keys())clearTimeout(e),i.get(e)(new Ne);i.clear(),n.splice(0,n.length)},t.isEnabled=!0,Object.defineProperty(t,"queueSize",{get:()=>i.size}),t}}({limit:1,interval:67,strict:!0});var _e;(_e=e.VideoRecognitionMode||(e.VideoRecognitionMode={}))[_e.Recognition=0]="Recognition",_e[_e.RecognitionTest=1]="RecognitionTest",_e[_e.DetectionTest=2]="DetectionTest";class le{constructor(t,r,i=!1,s=null){this.deviceId=null,this.recognitionCancelRequested=!1,this.recognitionPauseRequested=!1,this.recognitionTimeoutMs=2e4,this.timeoutStartedAt=0,this.currentTimeoutCount=0,this.videoRecognitionMode=e.VideoRecognitionMode.Recognition,this.onScanningDone=null,this.onFrameProcessed=null,this.cameraFlipped=!1,this.threadBusy=!1,this.handleFlippingVideo=async()=>{this.videoElement.style.transform=`scaleX(${this.cameraFlipped?-1:1})`,await this.recognizerRunner.setCameraPreviewMirrored(this.cameraFlipped)},this.setOnFrameProcessed=e=>{this.onFrameProcessed=e},this.flipCamera=async()=>{this.cameraFlipped=!this.cameraFlipped,await this.handleFlippingVideo()},this.isCameraFlipped=()=>this.cameraFlipped,this.setVideoRecognitionMode=async t=>{this.videoRecognitionMode=t;const r=this.videoRecognitionMode===e.VideoRecognitionMode.DetectionTest;await this.recognizerRunner.setDetectionOnlyMode(r)},this.startRecognition=async(t,r=2e4)=>{try{await this.videoElement.play()}catch(t){throw Error(e.ErrorMessages.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED)}this.recognitionPauseRequested=!1,this.recognitionCancelRequested=!1,this.clearTimeout(),this.recognitionTimeoutMs=r,this.onScanningDone=t,await this.throttledQueueFrame()},this.resumeRecognition=async t=>{if(t)try{await this.resetRecognizers(!0)}catch(e){throw new u(M.recognizersResetFailure)}try{await this.videoElement.play()}catch(t){throw Error(e.ErrorMessages.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED)}try{this.recognitionPauseRequested=!1,await this.throttledQueueFrame()}catch(e){this.recognitionPauseRequested=!0,console.error(e)}},this.recognize=(e=2e4)=>new Promise((t=>{this.startRecognition((e=>{this.pauseVideoFeed(),t(e)}),e)})),this.pauseVideoFeed=()=>{this.videoElement.readyState>this.videoElement.HAVE_CURRENT_DATA&&!this.videoElement.paused&&(this.videoElement.pause(),this.pauseRecognition())},this.pauseRecognition=()=>{this.recognitionPauseRequested=!0},this.cancelRecognition=()=>{this.recognitionCancelRequested=!0},this.resetRecognizers=async e=>{await this.recognizerRunner.resetRecognizers(e)},this.getRecognizerRunner=()=>this.recognizerRunner,this.getVideoElement=()=>this.videoElement,this.changeCameraDevice=async t=>{this.pauseRecognition(),this.releaseVideoFeed(),await q(t,this.videoElement,e.PreferredCameraType.BackFacingCamera),await this.recognizerRunner.setPingData({selectedCamera:t.label}),await this.resumeRecognition(!0)},this.queueFrame=()=>new Promise((e=>{this.frameCallback((()=>{this.recognitionLoop().then((()=>e()))}))})),this.throttledQueueFrame=ce(this.queueFrame),this.recognitionLoop=async()=>{if(this.threadBusy)return;if(this.recognitionPauseRequested)return;if(this.recognitionCancelRequested)return this.clearTimeout(),await this.resetRecognizers(!0),this.onScanningDone=null,void(this.recognitionCancelRequested=!1);const t=ae(this.videoElement);await new Promise((e=>setTimeout(e,0))),this.threadBusy=!0;const r=await this.recognizerRunner.processImage(t),i=await this.recognizerRunner.recognizers[0].getResult();if(this.threadBusy=!1,"function"==typeof this.onFrameProcessed&&this.onFrameProcessed(i,t.imageData),this.videoRecognitionMode===e.VideoRecognitionMode.DetectionTest||this.videoRecognitionMode===e.VideoRecognitionMode.RecognitionTest)return await this.recognizerRunner.resetRecognizers(!0),this.clearTimeout(),void this.throttledQueueFrame();switch(r){case e.RecognizerResultState.Valid:return this.clearTimeout(),void("function"==typeof this.onScanningDone&&this.onScanningDone(r));case e.RecognizerResultState.Uncertain:{const e=performance.now();return 0===this.timeoutStartedAt&&(this.timeoutStartedAt=e),this.currentTimeoutCount=e-this.timeoutStartedAt,this.recognitionTimeoutMs>this.currentTimeoutCount?void this.throttledQueueFrame():(this.clearTimeout(),void("function"==typeof this.onScanningDone&&this.onScanningDone(r)))}case e.RecognizerResultState.StageValid:case e.RecognizerResultState.Empty:return this.clearTimeout(),void this.throttledQueueFrame()}},this.clearTimeout=()=>{this.currentTimeoutCount=0,this.timeoutStartedAt=0},this.releaseVideoFeed=()=>{this.videoElement&&null!==this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream&&(this.videoElement.srcObject.getTracks().forEach((e=>e.stop())),this.videoElement.srcObject=null)},this.videoElement=t,this.recognizerRunner=r,this.cameraFlipped=i,this.deviceId=s,this.frameCallback="requestVideoFrameCallback"in HTMLVideoElement.prototype?this.videoElement.requestVideoFrameCallback.bind(this.videoElement):window.requestAnimationFrame.bind(window),this.handleFlippingVideo(),this.videoElement.setAttribute("playsinline",""),this.videoElement.setAttribute("mute","")}static async createVideoRecognizerFromCameraStream(t,r,i=null,s=e.PreferredCameraType.BackFacingCamera){if(!(t&&t instanceof HTMLVideoElement))throw new u(M.elementMissing);if(!navigator.mediaDevices.getUserMedia)throw new u(M.mediaDevicesUnsupported);const a=await X(i,s);if(!a)throw new u(M.cameraMissing);const n=await q(a,t,s);return await r.setPingData({selectedCamera:a.label}),new le(t,r,n,a.deviceId)}static createVideoRecognizerFromVideoPath(e,t,r){const i=new le(t,r);return t.src=e,t.currentTime=0,t.onended=()=>{i.cancelRecognition()},i}}const de=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,3,1,0,1,10,14,1,12,0,65,0,65,0,65,0,252,10,0,0,11])),Se=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,2,8,1,1,97,1,98,3,127,1,6,6,1,127,1,65,0,11,7,5,1,1,97,3,1])),Oe=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,7,1,5,0,208,112,26,11])),De=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,12,1,10,0,67,0,0,0,0,252,0,26,11])),Ce=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,65,0,192,26,11])),ue=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]));function Te(){const e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}async function me(){if(!await(async e=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))return!1;if(!("importScripts"in self))throw Error("Not implemented");return!Te()&&"Worker"in self}function ge(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}var Le,Me,Ue,he,Pe,pe,Ge,Fe,fe,ye,Ke,be,we,We,ke,Ve,He;(Le=e.BarcodeFormat||(e.BarcodeFormat={}))[Le.NONE=0]="NONE",Le[Le.QR_CODE=1]="QR_CODE",Le[Le.DATA_MATRIX=2]="DATA_MATRIX",Le[Le.UPC_E=3]="UPC_E",Le[Le.UPC_A=4]="UPC_A",Le[Le.EAN_8=5]="EAN_8",Le[Le.EAN_13=6]="EAN_13",Le[Le.CODE_128=7]="CODE_128",Le[Le.CODE_39=8]="CODE_39",Le[Le.ITF=9]="ITF",Le[Le.AZTEC_BARCODE=10]="AZTEC_BARCODE",Le[Le.PDF417_BARCODE=11]="PDF417_BARCODE",(Me=e.AnonymizationMode||(e.AnonymizationMode={}))[Me.None=0]="None",Me[Me.ImageOnly=1]="ImageOnly",Me[Me.ResultFieldsOnly=2]="ResultFieldsOnly",Me[Me.FullResult=3]="FullResult";class ve{constructor(){this.enableMrzId=!0,this.enableMrzPassport=!0,this.enableMrzVisa=!0,this.enablePhotoId=!0,this.enableBarcodeId=!0,this.enableFullDocumentRecognition=!0}}(Ue=e.StrictnessLevel||(e.StrictnessLevel={}))[Ue.Strict=0]="Strict",Ue[Ue.Normal=1]="Normal",Ue[Ue.Relaxed=2]="Relaxed";class Be{constructor(e=0,t=0,r=0,i=0){this.upFactor=0,this.downFactor=0,this.leftFactor=0,this.rightFactor=0,this.checkExtensionFactor(e),this.checkExtensionFactor(t),this.checkExtensionFactor(r),this.checkExtensionFactor(i),this.upFactor=e,this.downFactor=t,this.leftFactor=r,this.rightFactor=i}checkExtensionFactor(e){if(e>1||-1>e)throw Error("Extension factor must be in range [-1.0, 1.0]")}}function Ye(e){if(100>e||e>400)throw Error("DPI must be from interval [100, 400]")}(he=e.AlphabetType||(e.AlphabetType={}))[he.Latin=0]="Latin",he[he.Arabic=1]="Arabic",he[he.Cyrillic=2]="Cyrillic",he[he.Greek=3]="Greek",he[he.Count=4]="Count",(Pe=e.BarcodeElementKey||(e.BarcodeElementKey={}))[Pe.DocumentType=0]="DocumentType",Pe[Pe.StandardVersionNumber=1]="StandardVersionNumber",Pe[Pe.CustomerFamilyName=2]="CustomerFamilyName",Pe[Pe.CustomerFirstName=3]="CustomerFirstName",Pe[Pe.CustomerFullName=4]="CustomerFullName",Pe[Pe.DateOfBirth=5]="DateOfBirth",Pe[Pe.Sex=6]="Sex",Pe[Pe.EyeColor=7]="EyeColor",Pe[Pe.AddressStreet=8]="AddressStreet",Pe[Pe.AddressCity=9]="AddressCity",Pe[Pe.AddressJurisdictionCode=10]="AddressJurisdictionCode",Pe[Pe.AddressPostalCode=11]="AddressPostalCode",Pe[Pe.FullAddress=12]="FullAddress",Pe[Pe.Height=13]="Height",Pe[Pe.HeightIn=14]="HeightIn",Pe[Pe.HeightCm=15]="HeightCm",Pe[Pe.CustomerMiddleName=16]="CustomerMiddleName",Pe[Pe.HairColor=17]="HairColor",Pe[Pe.NameSuffix=18]="NameSuffix",Pe[Pe.AKAFullName=19]="AKAFullName",Pe[Pe.AKAFamilyName=20]="AKAFamilyName",Pe[Pe.AKAGivenName=21]="AKAGivenName",Pe[Pe.AKASuffixName=22]="AKASuffixName",Pe[Pe.WeightRange=23]="WeightRange",Pe[Pe.WeightPounds=24]="WeightPounds",Pe[Pe.WeightKilograms=25]="WeightKilograms",Pe[Pe.CustomerIdNumber=26]="CustomerIdNumber",Pe[Pe.FamilyNameTruncation=27]="FamilyNameTruncation",Pe[Pe.FirstNameTruncation=28]="FirstNameTruncation",Pe[Pe.MiddleNameTruncation=29]="MiddleNameTruncation",Pe[Pe.PlaceOfBirth=30]="PlaceOfBirth",Pe[Pe.AddressStreet2=31]="AddressStreet2",Pe[Pe.RaceEthnicity=32]="RaceEthnicity",Pe[Pe.NamePrefix=33]="NamePrefix",Pe[Pe.CountryIdentification=34]="CountryIdentification",Pe[Pe.ResidenceStreetAddress=35]="ResidenceStreetAddress",Pe[Pe.ResidenceStreetAddress2=36]="ResidenceStreetAddress2",Pe[Pe.ResidenceCity=37]="ResidenceCity",Pe[Pe.ResidenceJurisdictionCode=38]="ResidenceJurisdictionCode",Pe[Pe.ResidencePostalCode=39]="ResidencePostalCode",Pe[Pe.ResidenceFullAddress=40]="ResidenceFullAddress",Pe[Pe.Under18=41]="Under18",Pe[Pe.Under19=42]="Under19",Pe[Pe.Under21=43]="Under21",Pe[Pe.SocialSecurityNumber=44]="SocialSecurityNumber",Pe[Pe.AKASocialSecurityNumber=45]="AKASocialSecurityNumber",Pe[Pe.AKAMiddleName=46]="AKAMiddleName",Pe[Pe.AKAPrefixName=47]="AKAPrefixName",Pe[Pe.OrganDonor=48]="OrganDonor",Pe[Pe.Veteran=49]="Veteran",Pe[Pe.AKADateOfBirth=50]="AKADateOfBirth",Pe[Pe.IssuerIdentificationNumber=51]="IssuerIdentificationNumber",Pe[Pe.DocumentExpirationDate=52]="DocumentExpirationDate",Pe[Pe.JurisdictionVersionNumber=53]="JurisdictionVersionNumber",Pe[Pe.JurisdictionVehicleClass=54]="JurisdictionVehicleClass",Pe[Pe.JurisdictionRestrictionCodes=55]="JurisdictionRestrictionCodes",Pe[Pe.JurisdictionEndorsementCodes=56]="JurisdictionEndorsementCodes",Pe[Pe.DocumentIssueDate=57]="DocumentIssueDate",Pe[Pe.FederalCommercialVehicleCodes=58]="FederalCommercialVehicleCodes",Pe[Pe.IssuingJurisdiction=59]="IssuingJurisdiction",Pe[Pe.StandardVehicleClassification=60]="StandardVehicleClassification",Pe[Pe.IssuingJurisdictionName=61]="IssuingJurisdictionName",Pe[Pe.StandardEndorsementCode=62]="StandardEndorsementCode",Pe[Pe.StandardRestrictionCode=63]="StandardRestrictionCode",Pe[Pe.JurisdictionVehicleClassificationDescription=64]="JurisdictionVehicleClassificationDescription",Pe[Pe.JurisdictionEndorsmentCodeDescription=65]="JurisdictionEndorsmentCodeDescription",Pe[Pe.JurisdictionRestrictionCodeDescription=66]="JurisdictionRestrictionCodeDescription",Pe[Pe.InventoryControlNumber=67]="InventoryControlNumber",Pe[Pe.CardRevisionDate=68]="CardRevisionDate",Pe[Pe.DocumentDiscriminator=69]="DocumentDiscriminator",Pe[Pe.LimitedDurationDocument=70]="LimitedDurationDocument",Pe[Pe.AuditInformation=71]="AuditInformation",Pe[Pe.ComplianceType=72]="ComplianceType",Pe[Pe.IssueTimestamp=73]="IssueTimestamp",Pe[Pe.PermitExpirationDate=74]="PermitExpirationDate",Pe[Pe.PermitIdentifier=75]="PermitIdentifier",Pe[Pe.PermitIssueDate=76]="PermitIssueDate",Pe[Pe.NumberOfDuplicates=77]="NumberOfDuplicates",Pe[Pe.HAZMATExpirationDate=78]="HAZMATExpirationDate",Pe[Pe.MedicalIndicator=79]="MedicalIndicator",Pe[Pe.NonResident=80]="NonResident",Pe[Pe.UniqueCustomerId=81]="UniqueCustomerId",Pe[Pe.DataDiscriminator=82]="DataDiscriminator",Pe[Pe.DocumentExpirationMonth=83]="DocumentExpirationMonth",Pe[Pe.DocumentNonexpiring=84]="DocumentNonexpiring",Pe[Pe.SecurityVersion=85]="SecurityVersion",Pe[Pe.Count=86]="Count";class ze{constructor(){this.country=null,this.region=null,this.type=null}}(pe=e.Country||(e.Country={}))[pe.NONE=0]="NONE",pe[pe.ALBANIA=1]="ALBANIA",pe[pe.ALGERIA=2]="ALGERIA",pe[pe.ARGENTINA=3]="ARGENTINA",pe[pe.AUSTRALIA=4]="AUSTRALIA",pe[pe.AUSTRIA=5]="AUSTRIA",pe[pe.AZERBAIJAN=6]="AZERBAIJAN",pe[pe.BAHRAIN=7]="BAHRAIN",pe[pe.BANGLADESH=8]="BANGLADESH",pe[pe.BELGIUM=9]="BELGIUM",pe[pe.BOSNIA_AND_HERZEGOVINA=10]="BOSNIA_AND_HERZEGOVINA",pe[pe.BRUNEI=11]="BRUNEI",pe[pe.BULGARIA=12]="BULGARIA",pe[pe.CAMBODIA=13]="CAMBODIA",pe[pe.CANADA=14]="CANADA",pe[pe.CHILE=15]="CHILE",pe[pe.COLOMBIA=16]="COLOMBIA",pe[pe.COSTA_RICA=17]="COSTA_RICA",pe[pe.CROATIA=18]="CROATIA",pe[pe.CYPRUS=19]="CYPRUS",pe[pe.CZECHIA=20]="CZECHIA",pe[pe.DENMARK=21]="DENMARK",pe[pe.DOMINICAN_REPUBLIC=22]="DOMINICAN_REPUBLIC",pe[pe.EGYPT=23]="EGYPT",pe[pe.ESTONIA=24]="ESTONIA",pe[pe.FINLAND=25]="FINLAND",pe[pe.FRANCE=26]="FRANCE",pe[pe.GEORGIA=27]="GEORGIA",pe[pe.GERMANY=28]="GERMANY",pe[pe.GHANA=29]="GHANA",pe[pe.GREECE=30]="GREECE",pe[pe.GUATEMALA=31]="GUATEMALA",pe[pe.HONG_KONG=32]="HONG_KONG",pe[pe.HUNGARY=33]="HUNGARY",pe[pe.INDIA=34]="INDIA",pe[pe.INDONESIA=35]="INDONESIA",pe[pe.IRELAND=36]="IRELAND",pe[pe.ISRAEL=37]="ISRAEL",pe[pe.ITALY=38]="ITALY",pe[pe.JORDAN=39]="JORDAN",pe[pe.KAZAKHSTAN=40]="KAZAKHSTAN",pe[pe.KENYA=41]="KENYA",pe[pe.KOSOVO=42]="KOSOVO",pe[pe.KUWAIT=43]="KUWAIT",pe[pe.LATVIA=44]="LATVIA",pe[pe.LITHUANIA=45]="LITHUANIA",pe[pe.MALAYSIA=46]="MALAYSIA",pe[pe.MALDIVES=47]="MALDIVES",pe[pe.MALTA=48]="MALTA",pe[pe.MAURITIUS=49]="MAURITIUS",pe[pe.MEXICO=50]="MEXICO",pe[pe.MOROCCO=51]="MOROCCO",pe[pe.NETHERLANDS=52]="NETHERLANDS",pe[pe.NEW_ZEALAND=53]="NEW_ZEALAND",pe[pe.NIGERIA=54]="NIGERIA",pe[pe.PAKISTAN=55]="PAKISTAN",pe[pe.PANAMA=56]="PANAMA",pe[pe.PARAGUAY=57]="PARAGUAY",pe[pe.PHILIPPINES=58]="PHILIPPINES",pe[pe.POLAND=59]="POLAND",pe[pe.PORTUGAL=60]="PORTUGAL",pe[pe.PUERTO_RICO=61]="PUERTO_RICO",pe[pe.QATAR=62]="QATAR",pe[pe.ROMANIA=63]="ROMANIA",pe[pe.RUSSIA=64]="RUSSIA",pe[pe.SAUDI_ARABIA=65]="SAUDI_ARABIA",pe[pe.SERBIA=66]="SERBIA",pe[pe.SINGAPORE=67]="SINGAPORE",pe[pe.SLOVAKIA=68]="SLOVAKIA",pe[pe.SLOVENIA=69]="SLOVENIA",pe[pe.SOUTH_AFRICA=70]="SOUTH_AFRICA",pe[pe.SPAIN=71]="SPAIN",pe[pe.SWEDEN=72]="SWEDEN",pe[pe.SWITZERLAND=73]="SWITZERLAND",pe[pe.TAIWAN=74]="TAIWAN",pe[pe.THAILAND=75]="THAILAND",pe[pe.TUNISIA=76]="TUNISIA",pe[pe.TURKEY=77]="TURKEY",pe[pe.UAE=78]="UAE",pe[pe.UGANDA=79]="UGANDA",pe[pe.UK=80]="UK",pe[pe.UKRAINE=81]="UKRAINE",pe[pe.USA=82]="USA",pe[pe.VIETNAM=83]="VIETNAM",pe[pe.BRAZIL=84]="BRAZIL",pe[pe.NORWAY=85]="NORWAY",pe[pe.OMAN=86]="OMAN",pe[pe.ECUADOR=87]="ECUADOR",pe[pe.EL_SALVADOR=88]="EL_SALVADOR",pe[pe.SRI_LANKA=89]="SRI_LANKA",pe[pe.PERU=90]="PERU",pe[pe.URUGUAY=91]="URUGUAY",pe[pe.BAHAMAS=92]="BAHAMAS",pe[pe.BERMUDA=93]="BERMUDA",pe[pe.BOLIVIA=94]="BOLIVIA",pe[pe.CHINA=95]="CHINA",pe[pe.EUROPEAN_UNION=96]="EUROPEAN_UNION",pe[pe.HAITI=97]="HAITI",pe[pe.HONDURAS=98]="HONDURAS",pe[pe.ICELAND=99]="ICELAND",pe[pe.JAPAN=100]="JAPAN",pe[pe.LUXEMBOURG=101]="LUXEMBOURG",pe[pe.MONTENEGRO=102]="MONTENEGRO",pe[pe.NICARAGUA=103]="NICARAGUA",pe[pe.SOUTH_KOREA=104]="SOUTH_KOREA",pe[pe.VENEZUELA=105]="VENEZUELA",pe[pe.AFGHANISTAN=106]="AFGHANISTAN",pe[pe.ALAND_ISLANDS=107]="ALAND_ISLANDS",pe[pe.AMERICAN_SAMOA=108]="AMERICAN_SAMOA",pe[pe.ANDORRA=109]="ANDORRA",pe[pe.ANGOLA=110]="ANGOLA",pe[pe.ANGUILLA=111]="ANGUILLA",pe[pe.ANTARCTICA=112]="ANTARCTICA",pe[pe.ANTIGUA_AND_BARBUDA=113]="ANTIGUA_AND_BARBUDA",pe[pe.ARMENIA=114]="ARMENIA",pe[pe.ARUBA=115]="ARUBA",pe[pe.BAILIWICK_OF_GUERNSEY=116]="BAILIWICK_OF_GUERNSEY",pe[pe.BAILIWICK_OF_JERSEY=117]="BAILIWICK_OF_JERSEY",pe[pe.BARBADOS=118]="BARBADOS",pe[pe.BELARUS=119]="BELARUS",pe[pe.BELIZE=120]="BELIZE",pe[pe.BENIN=121]="BENIN",pe[pe.BHUTAN=122]="BHUTAN",pe[pe.BONAIRE_SAINT_EUSTATIUS_AND_SABA=123]="BONAIRE_SAINT_EUSTATIUS_AND_SABA",pe[pe.BOTSWANA=124]="BOTSWANA",pe[pe.BOUVET_ISLAND=125]="BOUVET_ISLAND",pe[pe.BRITISH_INDIAN_OCEAN_TERRITORY=126]="BRITISH_INDIAN_OCEAN_TERRITORY",pe[pe.BURKINA_FASO=127]="BURKINA_FASO",pe[pe.BURUNDI=128]="BURUNDI",pe[pe.CAMEROON=129]="CAMEROON",pe[pe.CAPE_VERDE=130]="CAPE_VERDE",pe[pe.CARIBBEAN_NETHERLANDS=131]="CARIBBEAN_NETHERLANDS",pe[pe.CAYMAN_ISLANDS=132]="CAYMAN_ISLANDS",pe[pe.CENTRAL_AFRICAN_REPUBLIC=133]="CENTRAL_AFRICAN_REPUBLIC",pe[pe.CHAD=134]="CHAD",pe[pe.CHRISTMAS_ISLAND=135]="CHRISTMAS_ISLAND",pe[pe.COCOS_ISLANDS=136]="COCOS_ISLANDS",pe[pe.COMOROS=137]="COMOROS",pe[pe.CONGO=138]="CONGO",pe[pe.COOK_ISLANDS=139]="COOK_ISLANDS",pe[pe.CUBA=140]="CUBA",pe[pe.CURACAO=141]="CURACAO",pe[pe.DEMOCRATIC_REPUBLIC_OF_THE_CONGO=142]="DEMOCRATIC_REPUBLIC_OF_THE_CONGO",pe[pe.DJIBOUTI=143]="DJIBOUTI",pe[pe.DOMINICA=144]="DOMINICA",pe[pe.EAST_TIMOR=145]="EAST_TIMOR",pe[pe.EQUATORIAL_GUINEA=146]="EQUATORIAL_GUINEA",pe[pe.ERITREA=147]="ERITREA",pe[pe.ETHIOPIA=148]="ETHIOPIA",pe[pe.FALKLAND_ISLANDS=149]="FALKLAND_ISLANDS",pe[pe.FAROE_ISLANDS=150]="FAROE_ISLANDS",pe[pe.FEDERATED_STATES_OF_MICRONESIA=151]="FEDERATED_STATES_OF_MICRONESIA",pe[pe.FIJI=152]="FIJI",pe[pe.FRENCH_GUIANA=153]="FRENCH_GUIANA",pe[pe.FRENCH_POLYNESIA=154]="FRENCH_POLYNESIA",pe[pe.FRENCH_SOUTHERN_TERRITORIES=155]="FRENCH_SOUTHERN_TERRITORIES",pe[pe.GABON=156]="GABON",pe[pe.GAMBIA=157]="GAMBIA",pe[pe.GIBRALTAR=158]="GIBRALTAR",pe[pe.GREENLAND=159]="GREENLAND",pe[pe.GRENADA=160]="GRENADA",pe[pe.GUADELOUPE=161]="GUADELOUPE",pe[pe.GUAM=162]="GUAM",pe[pe.GUINEA=163]="GUINEA",pe[pe.GUINEA_BISSAU=164]="GUINEA_BISSAU",pe[pe.GUYANA=165]="GUYANA",pe[pe.HEARD_ISLAND_AND_MCDONALD_ISLANDS=166]="HEARD_ISLAND_AND_MCDONALD_ISLANDS",pe[pe.IRAN=167]="IRAN",pe[pe.IRAQ=168]="IRAQ",pe[pe.ISLE_OF_MAN=169]="ISLE_OF_MAN",pe[pe.IVORY_COAST=170]="IVORY_COAST",pe[pe.JAMAICA=171]="JAMAICA",pe[pe.KIRIBATI=172]="KIRIBATI",pe[pe.KYRGYZSTAN=173]="KYRGYZSTAN",pe[pe.LAOS=174]="LAOS",pe[pe.LEBANON=175]="LEBANON",pe[pe.LESOTHO=176]="LESOTHO",pe[pe.LIBERIA=177]="LIBERIA",pe[pe.LIBYA=178]="LIBYA",pe[pe.LIECHTENSTEIN=179]="LIECHTENSTEIN",pe[pe.MACAU=180]="MACAU",pe[pe.MADAGASCAR=181]="MADAGASCAR",pe[pe.MALAWI=182]="MALAWI",pe[pe.MALI=183]="MALI",pe[pe.MARSHALL_ISLANDS=184]="MARSHALL_ISLANDS",pe[pe.MARTINIQUE=185]="MARTINIQUE",pe[pe.MAURITANIA=186]="MAURITANIA",pe[pe.MAYOTTE=187]="MAYOTTE",pe[pe.MOLDOVA=188]="MOLDOVA",pe[pe.MONACO=189]="MONACO",pe[pe.MONGOLIA=190]="MONGOLIA",pe[pe.MONTSERRAT=191]="MONTSERRAT",pe[pe.MOZAMBIQUE=192]="MOZAMBIQUE",pe[pe.MYANMAR=193]="MYANMAR",pe[pe.NAMIBIA=194]="NAMIBIA",pe[pe.NAURU=195]="NAURU",pe[pe.NEPAL=196]="NEPAL",pe[pe.NEW_CALEDONIA=197]="NEW_CALEDONIA",pe[pe.NIGER=198]="NIGER",pe[pe.NIUE=199]="NIUE",pe[pe.NORFOLK_ISLAND=200]="NORFOLK_ISLAND",pe[pe.NORTHERN_CYPRUS=201]="NORTHERN_CYPRUS",pe[pe.NORTHERN_MARIANA_ISLANDS=202]="NORTHERN_MARIANA_ISLANDS",pe[pe.NORTH_KOREA=203]="NORTH_KOREA",pe[pe.NORTH_MACEDONIA=204]="NORTH_MACEDONIA",pe[pe.PALAU=205]="PALAU",pe[pe.PALESTINE=206]="PALESTINE",pe[pe.PAPUA_NEW_GUINEA=207]="PAPUA_NEW_GUINEA",pe[pe.PITCAIRN=208]="PITCAIRN",pe[pe.REUNION=209]="REUNION",pe[pe.RWANDA=210]="RWANDA",pe[pe.SAINT_BARTHELEMY=211]="SAINT_BARTHELEMY",pe[pe.SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA=212]="SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA",pe[pe.SAINT_KITTS_AND_NEVIS=213]="SAINT_KITTS_AND_NEVIS",pe[pe.SAINT_LUCIA=214]="SAINT_LUCIA",pe[pe.SAINT_MARTIN=215]="SAINT_MARTIN",pe[pe.SAINT_PIERRE_AND_MIQUELON=216]="SAINT_PIERRE_AND_MIQUELON",pe[pe.SAINT_VINCENT_AND_THE_GRENADINES=217]="SAINT_VINCENT_AND_THE_GRENADINES",pe[pe.SAMOA=218]="SAMOA",pe[pe.SAN_MARINO=219]="SAN_MARINO",pe[pe.SAO_TOME_AND_PRINCIPE=220]="SAO_TOME_AND_PRINCIPE",pe[pe.SENEGAL=221]="SENEGAL",pe[pe.SEYCHELLES=222]="SEYCHELLES",pe[pe.SIERRA_LEONE=223]="SIERRA_LEONE",pe[pe.SINT_MAARTEN=224]="SINT_MAARTEN",pe[pe.SOLOMON_ISLANDS=225]="SOLOMON_ISLANDS",pe[pe.SOMALIA=226]="SOMALIA",pe[pe.SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS=227]="SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS",pe[pe.SOUTH_SUDAN=228]="SOUTH_SUDAN",pe[pe.SUDAN=229]="SUDAN",pe[pe.SURINAME=230]="SURINAME",pe[pe.SVALBARD_AND_JAN_MAYEN=231]="SVALBARD_AND_JAN_MAYEN",pe[pe.ESWATINI=232]="ESWATINI",pe[pe.SYRIA=233]="SYRIA",pe[pe.TAJIKISTAN=234]="TAJIKISTAN",pe[pe.TANZANIA=235]="TANZANIA",pe[pe.TOGO=236]="TOGO",pe[pe.TOKELAU=237]="TOKELAU",pe[pe.TONGA=238]="TONGA",pe[pe.TRINIDAD_AND_TOBAGO=239]="TRINIDAD_AND_TOBAGO",pe[pe.TURKMENISTAN=240]="TURKMENISTAN",pe[pe.TURKS_AND_CAICOS_ISLANDS=241]="TURKS_AND_CAICOS_ISLANDS",pe[pe.TUVALU=242]="TUVALU",pe[pe.UNITED_STATES_MINOR_OUTLYING_ISLANDS=243]="UNITED_STATES_MINOR_OUTLYING_ISLANDS",pe[pe.UZBEKISTAN=244]="UZBEKISTAN",pe[pe.VANUATU=245]="VANUATU",pe[pe.VATICAN_CITY=246]="VATICAN_CITY",pe[pe.VIRGIN_ISLANDS_BRITISH=247]="VIRGIN_ISLANDS_BRITISH",pe[pe.VIRGIN_ISLANDS_US=248]="VIRGIN_ISLANDS_US",pe[pe.WALLIS_AND_FUTUNA=249]="WALLIS_AND_FUTUNA",pe[pe.WESTERN_SAHARA=250]="WESTERN_SAHARA",pe[pe.YEMEN=251]="YEMEN",pe[pe.YUGOSLAVIA=252]="YUGOSLAVIA",pe[pe.ZAMBIA=253]="ZAMBIA",pe[pe.ZIMBABWE=254]="ZIMBABWE",pe[pe.SCHENGEN_AREA=255]="SCHENGEN_AREA",pe[pe.COUNT=256]="COUNT",(Ge=e.Region||(e.Region={}))[Ge.NONE=0]="NONE",Ge[Ge.ALABAMA=1]="ALABAMA",Ge[Ge.ALASKA=2]="ALASKA",Ge[Ge.ALBERTA=3]="ALBERTA",Ge[Ge.ARIZONA=4]="ARIZONA",Ge[Ge.ARKANSAS=5]="ARKANSAS",Ge[Ge.AUSTRALIAN_CAPITAL_TERRITORY=6]="AUSTRALIAN_CAPITAL_TERRITORY",Ge[Ge.BRITISH_COLUMBIA=7]="BRITISH_COLUMBIA",Ge[Ge.CALIFORNIA=8]="CALIFORNIA",Ge[Ge.COLORADO=9]="COLORADO",Ge[Ge.CONNECTICUT=10]="CONNECTICUT",Ge[Ge.DELAWARE=11]="DELAWARE",Ge[Ge.DISTRICT_OF_COLUMBIA=12]="DISTRICT_OF_COLUMBIA",Ge[Ge.FLORIDA=13]="FLORIDA",Ge[Ge.GEORGIA=14]="GEORGIA",Ge[Ge.HAWAII=15]="HAWAII",Ge[Ge.IDAHO=16]="IDAHO",Ge[Ge.ILLINOIS=17]="ILLINOIS",Ge[Ge.INDIANA=18]="INDIANA",Ge[Ge.IOWA=19]="IOWA",Ge[Ge.KANSAS=20]="KANSAS",Ge[Ge.KENTUCKY=21]="KENTUCKY",Ge[Ge.LOUISIANA=22]="LOUISIANA",Ge[Ge.MAINE=23]="MAINE",Ge[Ge.MANITOBA=24]="MANITOBA",Ge[Ge.MARYLAND=25]="MARYLAND",Ge[Ge.MASSACHUSETTS=26]="MASSACHUSETTS",Ge[Ge.MICHIGAN=27]="MICHIGAN",Ge[Ge.MINNESOTA=28]="MINNESOTA",Ge[Ge.MISSISSIPPI=29]="MISSISSIPPI",Ge[Ge.MISSOURI=30]="MISSOURI",Ge[Ge.MONTANA=31]="MONTANA",Ge[Ge.NEBRASKA=32]="NEBRASKA",Ge[Ge.NEVADA=33]="NEVADA",Ge[Ge.NEW_BRUNSWICK=34]="NEW_BRUNSWICK",Ge[Ge.NEW_HAMPSHIRE=35]="NEW_HAMPSHIRE",Ge[Ge.NEW_JERSEY=36]="NEW_JERSEY",Ge[Ge.NEW_MEXICO=37]="NEW_MEXICO",Ge[Ge.NEW_SOUTH_WALES=38]="NEW_SOUTH_WALES",Ge[Ge.NEW_YORK=39]="NEW_YORK",Ge[Ge.NORTHERN_TERRITORY=40]="NORTHERN_TERRITORY",Ge[Ge.NORTH_CAROLINA=41]="NORTH_CAROLINA",Ge[Ge.NORTH_DAKOTA=42]="NORTH_DAKOTA",Ge[Ge.NOVA_SCOTIA=43]="NOVA_SCOTIA",Ge[Ge.OHIO=44]="OHIO",Ge[Ge.OKLAHOMA=45]="OKLAHOMA",Ge[Ge.ONTARIO=46]="ONTARIO",Ge[Ge.OREGON=47]="OREGON",Ge[Ge.PENNSYLVANIA=48]="PENNSYLVANIA",Ge[Ge.QUEBEC=49]="QUEBEC",Ge[Ge.QUEENSLAND=50]="QUEENSLAND",Ge[Ge.RHODE_ISLAND=51]="RHODE_ISLAND",Ge[Ge.SASKATCHEWAN=52]="SASKATCHEWAN",Ge[Ge.SOUTH_AUSTRALIA=53]="SOUTH_AUSTRALIA",Ge[Ge.SOUTH_CAROLINA=54]="SOUTH_CAROLINA",Ge[Ge.SOUTH_DAKOTA=55]="SOUTH_DAKOTA",Ge[Ge.TASMANIA=56]="TASMANIA",Ge[Ge.TENNESSEE=57]="TENNESSEE",Ge[Ge.TEXAS=58]="TEXAS",Ge[Ge.UTAH=59]="UTAH",Ge[Ge.VERMONT=60]="VERMONT",Ge[Ge.VICTORIA=61]="VICTORIA",Ge[Ge.VIRGINIA=62]="VIRGINIA",Ge[Ge.WASHINGTON=63]="WASHINGTON",Ge[Ge.WESTERN_AUSTRALIA=64]="WESTERN_AUSTRALIA",Ge[Ge.WEST_VIRGINIA=65]="WEST_VIRGINIA",Ge[Ge.WISCONSIN=66]="WISCONSIN",Ge[Ge.WYOMING=67]="WYOMING",Ge[Ge.YUKON=68]="YUKON",Ge[Ge.CIUDAD_DE_MEXICO=69]="CIUDAD_DE_MEXICO",Ge[Ge.JALISCO=70]="JALISCO",Ge[Ge.NEWFOUNDLAND_AND_LABRADOR=71]="NEWFOUNDLAND_AND_LABRADOR",Ge[Ge.NUEVO_LEON=72]="NUEVO_LEON",Ge[Ge.BAJA_CALIFORNIA=73]="BAJA_CALIFORNIA",Ge[Ge.CHIHUAHUA=74]="CHIHUAHUA",Ge[Ge.GUANAJUATO=75]="GUANAJUATO",Ge[Ge.GUERRERO=76]="GUERRERO",Ge[Ge.MEXICO=77]="MEXICO",Ge[Ge.MICHOACAN=78]="MICHOACAN",Ge[Ge.NEW_YORK_CITY=79]="NEW_YORK_CITY",Ge[Ge.TAMAULIPAS=80]="TAMAULIPAS",Ge[Ge.VERACRUZ=81]="VERACRUZ",Ge[Ge.CHIAPAS=82]="CHIAPAS",Ge[Ge.COAHUILA=83]="COAHUILA",Ge[Ge.DURANGO=84]="DURANGO",Ge[Ge.GUERRERO_COCULA=85]="GUERRERO_COCULA",Ge[Ge.GUERRERO_JUCHITAN=86]="GUERRERO_JUCHITAN",Ge[Ge.GUERRERO_TEPECOACUILCO=87]="GUERRERO_TEPECOACUILCO",Ge[Ge.GUERRERO_TLACOAPA=88]="GUERRERO_TLACOAPA",Ge[Ge.GUJARAT=89]="GUJARAT",Ge[Ge.HIDALGO=90]="HIDALGO",Ge[Ge.KARNATAKA=91]="KARNATAKA",Ge[Ge.KERALA=92]="KERALA",Ge[Ge.KHYBER_PAKHTUNKHWA=93]="KHYBER_PAKHTUNKHWA",Ge[Ge.MADHYA_PRADESH=94]="MADHYA_PRADESH",Ge[Ge.MAHARASHTRA=95]="MAHARASHTRA",Ge[Ge.MORELOS=96]="MORELOS",Ge[Ge.NAYARIT=97]="NAYARIT",Ge[Ge.OAXACA=98]="OAXACA",Ge[Ge.PUEBLA=99]="PUEBLA",Ge[Ge.PUNJAB=100]="PUNJAB",Ge[Ge.QUERETARO=101]="QUERETARO",Ge[Ge.SAN_LUIS_POTOSI=102]="SAN_LUIS_POTOSI",Ge[Ge.SINALOA=103]="SINALOA",Ge[Ge.SONORA=104]="SONORA",Ge[Ge.TABASCO=105]="TABASCO",Ge[Ge.TAMIL_NADU=106]="TAMIL_NADU",Ge[Ge.YUCATAN=107]="YUCATAN",Ge[Ge.ZACATECAS=108]="ZACATECAS",Ge[Ge.AGUASCALIENTES=109]="AGUASCALIENTES",Ge[Ge.BAJA_CALIFORNIA_SUR=110]="BAJA_CALIFORNIA_SUR",Ge[Ge.CAMPECHE=111]="CAMPECHE",Ge[Ge.COLIMA=112]="COLIMA",Ge[Ge.QUINTANA_ROO_BENITO_JUAREZ=113]="QUINTANA_ROO_BENITO_JUAREZ",Ge[Ge.UINTANA_ROO=114]="UINTANA_ROO",Ge[Ge.QUINTANA_ROO_SOLIDARIDAD=115]="QUINTANA_ROO_SOLIDARIDAD",Ge[Ge.TLAXCALA=116]="TLAXCALA",Ge[Ge.QUINTANA_ROO_COZUMEL=117]="QUINTANA_ROO_COZUMEL",Ge[Ge.SAO_PAOLO=118]="SAO_PAOLO",Ge[Ge.RIO_DE_JANEIRO=119]="RIO_DE_JANEIRO",Ge[Ge.RIO_GRANDE_DO_SUL=120]="RIO_GRANDE_DO_SUL",Ge[Ge.NORTHWEST_TERRITORIES=121]="NORTHWEST_TERRITORIES",Ge[Ge.NUNAVUT=122]="NUNAVUT",Ge[Ge.PRINCE_EDWARD_ISLAND=123]="PRINCE_EDWARD_ISLAND",Ge[Ge.DISTRITO_FEDERAL=124]="DISTRITO_FEDERAL",Ge[Ge.MARANHAO=125]="MARANHAO",Ge[Ge.MATO_GROSSO=126]="MATO_GROSSO",Ge[Ge.MINAS_GERAIS=127]="MINAS_GERAIS",Ge[Ge.PARA=128]="PARA",Ge[Ge.PARANA=129]="PARANA",Ge[Ge.PERNAMBUCO=130]="PERNAMBUCO",Ge[Ge.SANTA_CATARINA=131]="SANTA_CATARINA",Ge[Ge.ANDHRA_PRADESH=132]="ANDHRA_PRADESH",Ge[Ge.CEARA=133]="CEARA",Ge[Ge.GOIAS=134]="GOIAS",Ge[Ge.GUERRERO_ACAPULCO_DE_JUAREZ=135]="GUERRERO_ACAPULCO_DE_JUAREZ",Ge[Ge.HARYANA=136]="HARYANA",Ge[Ge.SERGIPE=137]="SERGIPE",Ge[Ge.ALAGOAS=138]="ALAGOAS",Ge[Ge.BANGSAMORO=139]="BANGSAMORO",Ge[Ge.COUNT=140]="COUNT",(Fe=e.DocumentType||(e.DocumentType={}))[Fe.NONE=0]="NONE",Fe[Fe.CONSULAR_ID=1]="CONSULAR_ID",Fe[Fe.DL=2]="DL",Fe[Fe.DL_PUBLIC_SERVICES_CARD=3]="DL_PUBLIC_SERVICES_CARD",Fe[Fe.EMPLOYMENT_PASS=4]="EMPLOYMENT_PASS",Fe[Fe.FIN_CARD=5]="FIN_CARD",Fe[Fe.ID=6]="ID",Fe[Fe.MULTIPURPOSE_ID=7]="MULTIPURPOSE_ID",Fe[Fe.MYKAD=8]="MYKAD",Fe[Fe.MYKID=9]="MYKID",Fe[Fe.MYPR=10]="MYPR",Fe[Fe.MYTENTERA=11]="MYTENTERA",Fe[Fe.PAN_CARD=12]="PAN_CARD",Fe[Fe.PROFESSIONAL_ID=13]="PROFESSIONAL_ID",Fe[Fe.PUBLIC_SERVICES_CARD=14]="PUBLIC_SERVICES_CARD",Fe[Fe.RESIDENCE_PERMIT=15]="RESIDENCE_PERMIT",Fe[Fe.RESIDENT_ID=16]="RESIDENT_ID",Fe[Fe.TEMPORARY_RESIDENCE_PERMIT=17]="TEMPORARY_RESIDENCE_PERMIT",Fe[Fe.VOTER_ID=18]="VOTER_ID",Fe[Fe.WORK_PERMIT=19]="WORK_PERMIT",Fe[Fe.IKAD=20]="IKAD",Fe[Fe.MILITARY_ID=21]="MILITARY_ID",Fe[Fe.MYKAS=22]="MYKAS",Fe[Fe.SOCIAL_SECURITY_CARD=23]="SOCIAL_SECURITY_CARD",Fe[Fe.HEALTH_INSURANCE_CARD=24]="HEALTH_INSURANCE_CARD",Fe[Fe.PASSPORT=25]="PASSPORT",Fe[Fe.S_PASS=26]="S_PASS",Fe[Fe.ADDRESS_CARD=27]="ADDRESS_CARD",Fe[Fe.ALIEN_ID=28]="ALIEN_ID",Fe[Fe.ALIEN_PASSPORT=29]="ALIEN_PASSPORT",Fe[Fe.GREEN_CARD=30]="GREEN_CARD",Fe[Fe.MINORS_ID=31]="MINORS_ID",Fe[Fe.POSTAL_ID=32]="POSTAL_ID",Fe[Fe.PROFESSIONAL_DL=33]="PROFESSIONAL_DL",Fe[Fe.TAX_ID=34]="TAX_ID",Fe[Fe.WEAPON_PERMIT=35]="WEAPON_PERMIT",Fe[Fe.VISA=36]="VISA",Fe[Fe.BORDER_CROSSING_CARD=37]="BORDER_CROSSING_CARD",Fe[Fe.DRIVER_CARD=38]="DRIVER_CARD",Fe[Fe.GLOBAL_ENTRY_CARD=39]="GLOBAL_ENTRY_CARD",Fe[Fe.MYPOLIS=40]="MYPOLIS",Fe[Fe.NEXUS_CARD=41]="NEXUS_CARD",Fe[Fe.PASSPORT_CARD=42]="PASSPORT_CARD",Fe[Fe.PROOF_OF_AGE_CARD=43]="PROOF_OF_AGE_CARD",Fe[Fe.REFUGEE_ID=44]="REFUGEE_ID",Fe[Fe.TRIBAL_ID=45]="TRIBAL_ID",Fe[Fe.VETERAN_ID=46]="VETERAN_ID",Fe[Fe.CITIZENSHIP_CERTIFICATE=47]="CITIZENSHIP_CERTIFICATE",Fe[Fe.MY_NUMBER_CARD=48]="MY_NUMBER_CARD",Fe[Fe.CONSULAR_PASSPORT=49]="CONSULAR_PASSPORT",Fe[Fe.MINORS_PASSPORT=50]="MINORS_PASSPORT",Fe[Fe.MINORS_PUBLIC_SERVICES_CARD=51]="MINORS_PUBLIC_SERVICES_CARD",Fe[Fe.DRIVING_PRIVILEGE_CARD=52]="DRIVING_PRIVILEGE_CARD",Fe[Fe.ASYLUM_REQUEST=53]="ASYLUM_REQUEST",Fe[Fe.DRIVER_QUALIFICATION_CARD=54]="DRIVER_QUALIFICATION_CARD",Fe[Fe.PROVISIONAL_DL=55]="PROVISIONAL_DL",Fe[Fe.REFUGEE_PASSPORT=56]="REFUGEE_PASSPORT",Fe[Fe.SPECIAL_ID=57]="SPECIAL_ID",Fe[Fe.UNIFORMED_SERVICES_ID=58]="UNIFORMED_SERVICES_ID",Fe[Fe.IMMIGRANT_VISA=59]="IMMIGRANT_VISA",Fe[Fe.CONSULAR_VOTER_ID=60]="CONSULAR_VOTER_ID",Fe[Fe.TWIC_CARD=61]="TWIC_CARD",Fe[Fe.EXIT_ENTRY_PERMIT=62]="EXIT_ENTRY_PERMIT",Fe[Fe.MAINLAND_TRAVEL_PERMIT_TAIWAN=63]="MAINLAND_TRAVEL_PERMIT_TAIWAN",Fe[Fe.NBI_CLEARANCE=64]="NBI_CLEARANCE",Fe[Fe.PROOF_OF_REGISTRATION=65]="PROOF_OF_REGISTRATION",Fe[Fe.TEMPORARY_PROTECTION_PERMIT=66]="TEMPORARY_PROTECTION_PERMIT",Fe[Fe.AFGHAN_CITIZEN_CARD=67]="AFGHAN_CITIZEN_CARD",Fe[Fe.EID=68]="EID",Fe[Fe.PASS=69]="PASS",Fe[Fe.SIS_ID=70]="SIS_ID",Fe[Fe.ASIC_CARD=71]="ASIC_CARD",Fe[Fe.BIDOON_CARD=72]="BIDOON_CARD",Fe[Fe.INTERIM_HEALTH_INSURANCE_CARD=73]="INTERIM_HEALTH_INSURANCE_CARD",Fe[Fe.NON_VOTER_ID=74]="NON_VOTER_ID",Fe[Fe.RECIPROCAL_HEALTH_INSURANCE_CARD=75]="RECIPROCAL_HEALTH_INSURANCE_CARD",Fe[Fe.VEHICLE_REGISTRATION=76]="VEHICLE_REGISTRATION",Fe[Fe.ESAAD_CARD=77]="ESAAD_CARD",Fe[Fe.COUNT=78]="COUNT";(fe=e.FieldType||(e.FieldType={}))[fe.AdditionalAddressInformation=0]="AdditionalAddressInformation",fe[fe.AdditionalNameInformation=1]="AdditionalNameInformation",fe[fe.AdditionalOptionalAddressInformation=2]="AdditionalOptionalAddressInformation",fe[fe.AdditionalPersonalIdNumber=3]="AdditionalPersonalIdNumber",fe[fe.Address=4]="Address",fe[fe.ClassEffectiveDate=5]="ClassEffectiveDate",fe[fe.ClassExpiryDate=6]="ClassExpiryDate",fe[fe.Conditions=7]="Conditions",fe[fe.DateOfBirth=8]="DateOfBirth",fe[fe.DateOfExpiry=9]="DateOfExpiry",fe[fe.DateOfIssue=10]="DateOfIssue",fe[fe.DocumentAdditionalNumber=11]="DocumentAdditionalNumber",fe[fe.DocumentOptionalAdditionalNumber=12]="DocumentOptionalAdditionalNumber",fe[fe.DocumentNumber=13]="DocumentNumber",fe[fe.Employer=14]="Employer",fe[fe.Endorsements=15]="Endorsements",fe[fe.FathersName=16]="FathersName",fe[fe.FirstName=17]="FirstName",fe[fe.FullName=18]="FullName",fe[fe.IssuingAuthority=19]="IssuingAuthority",fe[fe.LastName=20]="LastName",fe[fe.LicenceType=21]="LicenceType",fe[fe.LocalizedName=22]="LocalizedName",fe[fe.MaritalStatus=23]="MaritalStatus",fe[fe.MothersName=24]="MothersName",fe[fe.Mrz=25]="Mrz",fe[fe.Nationality=26]="Nationality",fe[fe.PersonalIdNumber=27]="PersonalIdNumber",fe[fe.PlaceOfBirth=28]="PlaceOfBirth",fe[fe.Profession=29]="Profession",fe[fe.Race=30]="Race",fe[fe.Religion=31]="Religion",fe[fe.ResidentialStatus=32]="ResidentialStatus",fe[fe.Restrictions=33]="Restrictions",fe[fe.Sex=34]="Sex",fe[fe.VehicleClass=35]="VehicleClass",fe[fe.BloodType=36]="BloodType",fe[fe.Sponsor=37]="Sponsor",fe[fe.VisaType=38]="VisaType",fe[fe.DocumentSubtype=39]="DocumentSubtype",fe[fe.Remarks=40]="Remarks",fe[fe.ResidencePermitType=41]="ResidencePermitType",fe[fe.ManufacturingYear=42]="ManufacturingYear",fe[fe.VehicleType=43]="VehicleType",fe[fe.DependentDateOfBirth=44]="DependentDateOfBirth",fe[fe.DependentSex=45]="DependentSex",fe[fe.DependentDocumentNumber=46]="DependentDocumentNumber",fe[fe.DependentFullName=47]="DependentFullName",fe[fe.EligibilityCategory=48]="EligibilityCategory",fe[fe.SpecificDocumentValidity=49]="SpecificDocumentValidity",fe[fe.VehicleOwner=50]="VehicleOwner",fe[fe.Count=51]="Count",(ye=e.ImageExtractionType||(e.ImageExtractionType={}))[ye.FullDocument=0]="FullDocument",ye[ye.Face=1]="Face",ye[ye.Signature=2]="Signature",(Ke=e.DocumentImageColorStatus||(e.DocumentImageColorStatus={}))[Ke.NotAvailable=0]="NotAvailable",Ke[Ke.BlackAndWhite=1]="BlackAndWhite",Ke[Ke.Color=2]="Color",(be=e.ImageAnalysisDetectionStatus||(e.ImageAnalysisDetectionStatus={}))[be.NotAvailable=0]="NotAvailable",be[be.NotDetected=1]="NotDetected",be[be.Detected=2]="Detected",(we=e.CardOrientation||(e.CardOrientation={}))[we.Horizontal=0]="Horizontal",we[we.Vertical=1]="Vertical",we[we.NotAvailable=2]="NotAvailable",(We=e.CardRotation||(e.CardRotation={}))[We.None=0]="None",We[We.Clockwise90=1]="Clockwise90",We[We.CounterClockwise90=2]="CounterClockwise90",We[We.UpsideDown=3]="UpsideDown",(ke=e.ProcessingStatus||(e.ProcessingStatus={}))[ke.Success=0]="Success",ke[ke.DetectionFailed=1]="DetectionFailed",ke[ke.ImagePreprocessingFailed=2]="ImagePreprocessingFailed",ke[ke.StabilityTestFailed=3]="StabilityTestFailed",ke[ke.ScanningWrongSide=4]="ScanningWrongSide",ke[ke.FieldIdentificationFailed=5]="FieldIdentificationFailed",ke[ke.MandatoryFieldMissing=6]="MandatoryFieldMissing",ke[ke.InvalidCharactersFound=7]="InvalidCharactersFound",ke[ke.ImageReturnFailed=8]="ImageReturnFailed",ke[ke.BarcodeRecognitionFailed=9]="BarcodeRecognitionFailed",ke[ke.MrzParsingFailed=10]="MrzParsingFailed",ke[ke.ClassFiltered=11]="ClassFiltered",ke[ke.UnsupportedClass=12]="UnsupportedClass",ke[ke.UnsupportedByLicense=13]="UnsupportedByLicense",ke[ke.AwaitingOtherSide=14]="AwaitingOtherSide",ke[ke.NotScanned=15]="NotScanned",ke[ke.BarcodeDetectionFailed=16]="BarcodeDetectionFailed",ke[ke.Count=17]="Count",(Ve=e.RecognitionMode||(e.RecognitionMode={}))[Ve.None=0]="None",Ve[Ve.MrzId=1]="MrzId",Ve[Ve.MrzVisa=2]="MrzVisa",Ve[Ve.MrzPassport=3]="MrzPassport",Ve[Ve.PhotoId=4]="PhotoId",Ve[Ve.FullRecognition=5]="FullRecognition",Ve[Ve.BarcodeId=6]="BarcodeId",Ve[Ve.Count=7]="Count";class Ze{constructor(){this.enableBlurFilter=!0,this.enableGlareFilter=!0,this.blurStrictnessLevel=e.StrictnessLevel.Normal,this.glareStrictnessLevel=e.StrictnessLevel.Normal,this.allowUnparsedMrzResults=!1,this.allowBarcodeScanOnly=!1,this.combineFrameResults=!0,this.allowUnverifiedMrzResults=!0,this.recognitionModeFilter=new ve,this.saveCameraFrames=!1,this.scanCroppedDocumentImage=!1,this.validateResultCharacters=!0,this.anonymizationMode=e.AnonymizationMode.FullResult,this.additionalAnonymization=null,this.customClassRules=null,this.barcodeScanningStartedCallback=null,this.classifierCallback=null,this.allowedDocumentClasses=null,this.paddingEdge=0,this.returnFullDocumentImage=!1,this.returnEncodedFullDocumentImage=!1,this._fullDocumentImageDpi=250,this.fullDocumentImageExtensionFactors=new Be,this.returnFaceImage=!1,this.returnEncodedFaceImage=!1,this._faceImageDpi=250,this.returnSignatureImage=!1,this.returnEncodedSignatureImage=!1,this._signatureImageDpi=250}get fullDocumentImageDpi(){return this._fullDocumentImageDpi}set fullDocumentImageDpi(e){Ye(e),this._fullDocumentImageDpi=e}get faceImageDpi(){return this._faceImageDpi}set faceImageDpi(e){Ye(e),this._faceImageDpi=e}get signatureImageDpi(){return this._signatureImageDpi}set signatureImageDpi(e){Ye(e),this._signatureImageDpi=e}}(He=e.IdBarcodeDocumentType||(e.IdBarcodeDocumentType={}))[He.None=0]="None",He[He.AAMVACompliant=1]="AAMVACompliant",He[He.ArgentinaID=2]="ArgentinaID",He[He.ArgentinaAlienID=3]="ArgentinaAlienID",He[He.ArgentinaDL=4]="ArgentinaDL",He[He.ColombiaID=5]="ColombiaID",He[He.ColombiaDL=6]="ColombiaDL",He[He.NigeriaVoterID=7]="NigeriaVoterID",He[He.NigeriaDL=8]="NigeriaDL",He[He.PanamaID=9]="PanamaID",He[He.SouthAfricaID=10]="SouthAfricaID",e.BlinkIdMultiSideRecognizerSettings=class extends Ze{constructor(){super(...arguments),this.allowUncertainFrontSideScan=!1,this.maxAllowedMismatchesPerField=0,this.skipUnsupportedBack=!1,this.scanPassportDataPageOnly=!1}},e.BlinkIdSingleSideRecognizerSettings=Ze,e.CapturedFrame=se,e.ClassFilter=ze,e.CustomClassRules=class{constructor(){this.classFilter=new ze,this.fields=[]}},e.DetailedFieldType=class{constructor(e,t){this.fieldType=e,this.alphabetType=t}},e.ExtensionFactors=Be,e.IdBarcodeRecognizerSettings=class{},e.RecognitionModeFilter=ve,e.SDKError=u,e.SelectedCamera=J,e.SerializableSDKError=T,e.VideoRecognizer=le,e.WasmSDKLoadSettings=class{constructor(e){if(this.allowHelloMessage=!0,this.engineLocation="",this.workerLocation="",this.wasmType=null,this.numberOfWorkers=null,this.loadProgressCallback=null,this.wasmModuleName="BlinkIDWasmSDK",!e)throw new u(U.licenseKeyMissing);this.licenseKey=e}},e.bindCameraToVideoFeed=q,e.captureFrame=ae,e.createBlinkIdMultiSideRecognizer=async function(e){return e.mbWasmModule.newRecognizer("BlinkIdMultiSideRecognizer")},e.createBlinkIdSingleSideRecognizer=async function(e){return e.mbWasmModule.newRecognizer("BlinkIdSingleSideRecognizer")},e.createIdBarcodeRecognizer=async function(e){return e.mbWasmModule.newRecognizer("IdBarcodeRecognizer")},e.createRecognizerRunner=async function(e,t,r=!1,i={}){if("object"!=typeof e)throw new u(U.missing);if("object"!=typeof t||1>t.length)throw new u(U.recognizersMissing);return e.mbWasmModule.createRecognizerRunner(t,r,i)},e.detectWasmFeatures=async function(){const t=[Se(),Oe(),de(),De(),Ce()];if(!(await Promise.all(t)).every(Boolean))throw Error("Browser doesn't meet minimum requirements!");return await ue()?await me()?e.WasmType.AdvancedWithThreads:e.WasmType.Advanced:e.WasmType.Basic},e.detectWasmType=async function(){const t=await ue(),r=await me();return t?r?e.WasmType.AdvancedWithThreads:e.WasmType.Advanced:e.WasmType.Basic},e.frameCaptureErrors=h,e.getCameraDevices=j,e.isAndroidDevice=z,e.isBrowserSupported=function(){try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){return!1}return!1},e.isIOSDevice=Z,e.isIOSUserAgent=function(){return/iOS|iPhone|iPad|iPod/i.test(navigator.userAgent)},e.isInAppBrowser=function(){const e=navigator.userAgent||navigator.vendor;return!!/(instagram|fbav|linkedinapp|twitter|micromessenger|whatsapp|tiktok)[/\s]?([\w.]*)/i.exec(e)},e.isMobileDevice=()=>z()||Z(),e.isSafari=Te,e.licenseErrors=P,e.loadWasmModule=async function(e){return new Promise(((t,r)=>{if(!e||"object"!=typeof e)return void r(new u(U.wasmSettingsMissing));if("string"!=typeof e.licenseKey)return void r(new u(U.licenseKeyMissing));if(!e.wasmModuleName)return void r(new u(U.wasmModuleNameMissing));if("string"!=typeof e.engineLocation)return void r(new u(U.engineLocationInvalid));if("string"!=typeof e.workerLocation)return void r(new u(U.workerLocationInvalid));const i=function(){try{let e=localStorage.getItem("mb-user-id");return null===e&&(e=ge(),localStorage.setItem("mb-user-id",e)),e}catch(e){return ge()}}();try{const s=`/resources/${e.wasmModuleName}.worker.min.js`,a=window.location.origin+s,n=e.workerLocation||a;e.allowHelloMessage&&console.log("Worker location is:",n);const o=new Worker(n);V.createWasmWorker(o,e,i).then((e=>{t(e)}),r)}catch(e){r(e)}}))},e.localSdkErrors=p,e.obtainNewServerPermission=Ie,e.pingErrors=F,e.sdkErrors=U,e.selectCamera=X,e.unlockWasmSDK=async function(t,r,i,s){const a=s.initializeWithLicenseKey(t,i,r);switch(a.unlockResult){case e.LicenseTokenState.Invalid:return{error:new u({...P.licenseInvalid,message:a.licenseError},{type:e.LicenseErrorType.LicenseTokenStateInvalid})};case e.LicenseTokenState.Valid:return{error:null,showOverlay:(n=a.isTrial,o=a.allowRemoveDemoOverlay,A=a.allowRemoveProductionOverlay,!(n&&o||!n&&A))};case e.LicenseTokenState.RequiresServerPermission:{const t=await Ie(a,s);switch(t.status){case e.ServerPermissionSubmitResultStatus.Ok:return{error:null,lease:t.lease};case e.ServerPermissionSubmitResultStatus.NetworkError:{let r="";return t.networkErrorDescription&&(r=" "+t.networkErrorDescription),{error:new u({...P.licenseNetworkError,message:"There has been a network error while obtaining the server permission!"+r},{type:e.LicenseErrorType.NetworkError})}}case e.ServerPermissionSubmitResultStatus.RemoteLock:return{error:new u(P.licenseRemoteLocked,{type:e.LicenseErrorType.RemoteLock}),lease:t.lease};case e.ServerPermissionSubmitResultStatus.PermissionExpired:return{error:new u(P.licensePermissionExpired,{type:e.LicenseErrorType.PermissionExpired}),lease:t.lease};case e.ServerPermissionSubmitResultStatus.PayloadCorrupted:return{error:new u(P.licensePayloadCorrupted,{type:e.LicenseErrorType.PayloadCorrupted}),lease:t.lease};case e.ServerPermissionSubmitResultStatus.PayloadSignatureVerificationFailed:return{error:new u(P.licensePayloadVerificationFailed,{type:e.LicenseErrorType.PayloadSignatureVerificationFailed}),lease:t.lease};case e.ServerPermissionSubmitResultStatus.IncorrectTokenState:return{error:new u(P.licenseTokenStateIncorrect,{type:e.LicenseErrorType.IncorrectTokenState}),lease:t.lease}}}}var n,o,A},e.validateDpi=Ye,e.videoRecognizerErrors=M,e.wasmFolder=function(t){let r="";return r=t.wasmType===e.WasmType.AdvancedWithThreads?"advanced-threads":t.wasmType===e.WasmType.Advanced?"advanced":"basic",`${t.blinkIDVariant}/${r}`},e.workerErrors=G,Object.defineProperty(e,"__esModule",{value:!0})}));
